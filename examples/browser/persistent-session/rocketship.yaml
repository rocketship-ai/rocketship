name: "Persistent browser session demo"
tests:
  - name: "interleaved flow"
    steps:
      # Browser auto-starts before first browser step!
      - name: "visit landing page"
        plugin: playwright
        config:
          role: script
          headless: true
          language: python
          script: |
            page.goto("https://example.com")
            result = {"title": page.title()}

      - name: "summarize via agent"
        plugin: browser_use
        config:
          llm:
            provider: "openai"
          task: "Read the page currently open and summarize it in one sentence."
          allowed_domains:
            - "example.com"
          max_steps: 4
      # Browser auto-stops in cleanup!
