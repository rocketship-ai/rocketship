{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Rocketship Documentation","text":"<p>Welcome to the Rocketship documentation! Rocketship is an open-source testing framework for APIs and browsers, designed for both humans and coding agents.</p>"},{"location":"#what-is-rocketship","title":"What is Rocketship?","text":"<p>\ud83d\ude80 Rocketship is an open\u2011source testing framework that can verify complex, API-driven scenarios that are made by your customers\u2014 or your systems. Rocketship brings durable execution backed by Temporal to your testing infra, and offers extensible plugins so you can add the APIs and protocols that matter to you.</p> <p>What can it test? - APIs - Check if your web services respond correctly to requests - Websites - Automate browser actions like clicking buttons and filling forms - Databases - Verify data is stored and retrieved correctly - Complete workflows - Test entire user journeys across multiple services</p> <p>How it works: You write simple instructions in a YAML file (a human-readable format), and Rocketship executes them. You can run tests on your computer or in the cloud. The tool automatically handles retries, error recovery, and complex scenarios so your tests are reliable.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Works Everywhere: Run tests on your computer, in Kubernetes, or in the cloud</li> <li>Easy Setup: Switch between different environments with profiles</li> <li>Secure Access: Built-in authentication for cloud deployments</li> <li>Many Test Types: Test APIs, databases, websites, and more with specialized plugins</li> <li>Reliable: Automatically retries failed tests and handles long-running scenarios</li> <li>Flexible: Use variables to make tests reusable across different environments</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Quick Start Guide - Get running in minutes</li> <li>Plugins - Available plugins and capabilities</li> <li>Deploy On Your Cloud - Production deployment options</li> <li>Command Reference - All CLI commands</li> <li>Contributing Guide - Build with us</li> </ul>"},{"location":"contributing/","title":"Contributing to Rocketship","text":"<p>Thank you for your interest in contributing to Rocketship! We're excited to have you join our community. This document provides guidelines and instructions for contributing to the project.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository on GitHub</li> <li>Clone your fork locally:</li> </ol> <pre><code>git clone https://github.com/YOUR_USERNAME/rocketship.git\ncd rocketship\n</code></pre> <p>Set up your development environment:</p> <pre><code>make dev-setup\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":"<p>Create a new branch for your feature/fix:</p> <pre><code>git checkout -b feature/your-feature-name\n</code></pre> <p>Make your changes and ensure tests pass:</p> <pre><code>make test\nmake lint\n</code></pre> <p>Build and install your local changes:</p> <pre><code>make install    # Removes old executable and go installs the local version\n</code></pre> <p>Test your changes:</p> <pre><code># OPTION 1: this will start the local rocketship server, run all tests in the examples directory, and then stop the server\nrocketship run -ad examples\n\n# OPTION 2: run the test server in a separate session and then run the tests\nrocketship start server --local\n# in another session, run the test(s)\nrocketship run -f &lt;path/to/rocketship.yaml&gt;\n</code></pre> <p>Test Server for Development:</p> <p>Inside for-contributors/, you'll find a test HTTP server that you can run as an in-memory store to test changes. Make sure your rocketship.yaml files point to this server (localhost:8080):</p> <pre><code>cd ./for-contributors/test-server &amp;&amp; go run .\n</code></pre> <p>This will help you test your changes with an in-memory store that can preserve resources.</p>"},{"location":"contributing/#creating-plugins","title":"Creating Plugins","text":"<p>Rocketship's plugin system allows you to add support for new APIs and protocols. To create a new plugin:</p> <ol> <li>Add your plugin in <code>internal/plugins/</code></li> <li>Implement the required plugin interface</li> <li>Register your plugin in the plugin registry</li> <li>Add tests for your plugin</li> <li>Document your plugin's usage</li> </ol>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>If you're updating features or adding new ones, please update the documentation:</p> <ul> <li>Documentation is written in Markdown under <code>docs/src/</code></li> <li>Run the documentation server locally:</li> </ul> <pre><code>make docs-serve\n</code></pre> <p>View your changes at <code>http://localhost:8000</code></p>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow Go best practices and conventions</li> <li>Use <code>gofmt</code> to format your code</li> <li>Add comments for non-obvious code sections</li> <li>Write meaningful commit messages</li> </ul>"},{"location":"contributing/#development-tips","title":"Development Tips","text":"<ul> <li>Set the <code>ROCKETSHIP_LOG</code> env var to <code>DEBUG</code> to see more verbose logging</li> <li>Pre-commit hooks will automatically run linting and tests</li> <li>Always test your changes locally before submitting a PR</li> </ul>"},{"location":"contributing/#release-process","title":"Release Process","text":"<p>Update Default Version</p> <p>Before creating a release, update the default version in <code>internal/embedded/binaries.go</code>:</p> <pre><code># Example: For releasing v1.2.3\nsed -i '' 's/defaultVersion *= *\".*\"/defaultVersion = \"v1.2.3\"/' internal/embedded/binaries.go\ngit add internal/embedded/binaries.go\ngit commit -m \"chore: update default version to v1.2.3\"\ngit push\n</code></pre> <p>Create a Release</p> <p>Once changes are merged to main, a maintainer can create a new release:</p> <ul> <li>Go to GitHub Releases: https://github.com/rocketship-ai/rocketship/releases</li> <li>Click \"Draft a new release\"</li> <li>Create a new tag (e.g., <code>v1.2.3</code>) following semantic versioning</li> <li>Write release notes</li> <li>Publish release</li> </ul> <p>This will automatically:</p> <ul> <li>Create and push a Git tag</li> <li>Trigger the release workflow</li> <li>Build platform-specific binaries</li> <li>Attach binaries to the release</li> </ul> <p>Test Installation</p> <pre><code># Install released version\ngo install github.com/rocketship-ai/rocketship/cmd/rocketship@v1.2.3\n\n# Test basic functionality\nrocketship version\n</code></pre>"},{"location":"contributing/#release-artifacts","title":"Release Artifacts","text":"<p>Each release includes platform-specific binaries for:</p> <ul> <li>CLI (rocketship)</li> <li>Worker</li> <li>Engine</li> </ul> <p>Supported platforms:</p> <ul> <li>Linux (amd64, arm64)</li> <li>macOS (amd64, arm64)</li> <li>Windows (amd64)</li> </ul>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Open an issue on GitHub</li> <li>Reach out to me on LinkedIn</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing to Rocketship, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"deploy-on-your-cloud/","title":"Deploy Rocketship on Your Cloud","text":"<p>Rocketship supports three deployment modes. Choose based on your needs:</p> <ol> <li>Local Processes \u2013 Quick experiments without Kubernetes</li> <li>Minikube Stack \u2013 Isolated local Kubernetes cluster for development</li> <li>Cloud Kubernetes \u2013 Production deployments on any Kubernetes cluster</li> </ol>"},{"location":"deploy-on-your-cloud/#deployment-modes","title":"Deployment Modes","text":""},{"location":"deploy-on-your-cloud/#1-local-processes-quick-start","title":"1. Local Processes (Quick Start)","text":"<p>Best for: Quick testing, development, learning</p> <p>The CLI embeds engine and worker binaries for standalone operation:</p> <pre><code># Auto-start engine, run tests, auto-stop\nrocketship run -af test.yaml\n\n# Or manually manage the engine\nrocketship start server -b      # Background engine\nrocketship run test.yaml        # Run tests\nrocketship stop server          # Stop engine\n</code></pre> <p>Requirements: Temporal installed locally (<code>brew install temporal</code>)</p>"},{"location":"deploy-on-your-cloud/#2-minikube-stack-local-kubernetes","title":"2. Minikube Stack (Local Kubernetes)","text":"<p>Best for: Development, CI testing, isolated environments</p> <p>Single script provisions everything in an isolated Minikube cluster:</p> <pre><code>scripts/setup-local-dev.sh  # One-time infrastructure setup\nscripts/start-dev.sh         # Start services with hot-reloading\n\n# Or for non-development deployments, use Helm directly:\n# helm install rocketship charts/rocketship -n rocketship\n# kubectl port-forward -n rocketship svc/rocketship-engine 7700:7700\nrocketship profile create minikube grpc://localhost:7700\nrocketship profile use minikube\nrocketship run -f test.yaml\n</code></pre> <p>Guide: Run on Minikube</p>"},{"location":"deploy-on-your-cloud/#3-cloud-kubernetes-production","title":"3. Cloud Kubernetes (Production)","text":"<p>Best for: Production deployments, team collaboration, test history</p> <p>Deploy to any Kubernetes cluster (EKS, GKE, AKS, DigitalOcean, on-prem):</p> <ul> <li>Full Temporal stack with persistence</li> <li>OIDC authentication for CLI and web UI</li> <li>Persistent test run history</li> <li>Scalable worker pools</li> </ul> <p>Guides: - Deploy on DigitalOcean \u2013 Step-by-step production guide - DigitalOcean with Web UI \u2013 Add OIDC authentication</p> <p>Adapt the DigitalOcean pattern for other clouds by swapping provider-specific commands.</p>"},{"location":"deploy-on-your-cloud/#core-components","title":"Core Components","text":"<p>Cloud deployments provision:</p> <ol> <li>Temporal \u2013 Durable workflow orchestration (Helm chart)</li> <li>Rocketship Engine \u2013 gRPC API accepting test executions</li> <li>Rocketship Worker \u2013 Executes plugin steps in Temporal workflows</li> <li>Auth Broker (optional) \u2013 OIDC authentication for CLI/web UI</li> <li>PostgreSQL (optional) \u2013 Test run history and auth persistence</li> </ol>"},{"location":"deploy-on-your-cloud/#using-cloud-deployments","title":"Using Cloud Deployments","text":"<p>After deploying, create a profile and authenticate:</p> <pre><code># Create profile\nrocketship profile create production https://rocketship.company.com\n\n# Authenticate via OIDC device flow\nrocketship login --profile production\n\n# Use the profile\nrocketship profile use production\n\n# Run tests\nrocketship run -f test.yaml\n</code></pre>"},{"location":"installation/","title":"Installation","text":"<p>Rocketship ships prebuilt binaries for macOS and Linux. Use the Homebrew tap on macOS for the smoothest experience, or the portable installer script everywhere else. This page walks through the supported options, prerequisites, and post-install checks.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<p>Do you need Temporal?</p> <ul> <li>Yes, if you'll run tests on your own computer using the local engine</li> <li>No, if you'll connect to a remote Rocketship server (cloud or team server)</li> </ul> <p>To install Temporal (if needed):</p> <pre><code># macOS\nbrew install temporal\n\n# Linux\n# Follow Temporal's installation guide: https://docs.temporal.io/cli#install\n</code></pre> <p>On Linux follow Temporal's official installation guide. If you only connect to a remote Rocketship deployment, Temporal is optional.</p>"},{"location":"installation/#macos-recommended-via-homebrew","title":"macOS (recommended via Homebrew)","text":"<pre><code>brew tap rocketship-ai/tap\nbrew install rocketship\n</code></pre> <p>The formula installs the latest tagged CLI, handles upgrades with <code>brew upgrade rocketship</code>, and keeps the binary inside your Homebrew prefix.</p>"},{"location":"installation/#linux-and-macos-portable-installer","title":"Linux and macOS (portable installer)","text":"<p>For environments without Homebrew run the installer script:</p> <pre><code>curl -fsSL https://raw.githubusercontent.com/rocketship-ai/rocketship/main/scripts/install.sh | bash\n</code></pre> <p>What the installer does: - Detects your operating system and downloads the right version - Verifies the download is safe (checksums) - Installs Rocketship to <code>~/.local/bin/rocketship</code> - Sets up your PATH so you can run <code>rocketship</code> from anywhere</p> <p>To update later: Just run the installer script again - it will download the latest version.</p> <p>To install a specific version: Set <code>ROCKETSHIP_VERSION=v0.5.23</code> (for example) before running the script.</p>"},{"location":"installation/#docker","title":"Docker","text":"<pre><code>docker pull rocketshipai/rocketship:latest\ndocker run --rm -it rocketshipai/rocketship:latest --help\n</code></pre> <p>Docker images are useful for CI jobs or ephemeral runs where you don't want to manage binaries.</p>"},{"location":"installation/#post-install-checks","title":"Post-install checks","text":"<p>After installing, confirm the CLI works:</p> <pre><code>rocketship --version\n</code></pre>"},{"location":"installation/#next-steps","title":"Next steps","text":"<ul> <li>Quickstart to run your first suite</li> <li>Test specification reference when you need exact syntax</li> </ul>"},{"location":"mcp-server/","title":"MCP Server","text":"<p>Early Beta - Not Recommended for Production Use</p> <p>The Rocketship MCP server is in early beta and not recommended for general usage yet. Features and APIs may change without notice.</p> <p>Tip: Instead of using the MCP server, copy and paste ROCKETSHIP_QUICKSTART.md into your coding agent's context window for a comprehensive reference.</p> <p>Rocketship includes an MCP (Model Context Protocol) server that enables AI coding agents to access Rocketship examples, patterns, and guidance.</p>"},{"location":"mcp-server/#installation","title":"Installation","text":"<p>Add to your MCP configuration (e.g., <code>.mcp.json</code> for Claude Code):</p> <pre><code>{\n  \"mcpServers\": {\n    \"rocketship\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@rocketshipai/mcp-server@latest\"]\n    }\n  }\n}\n</code></pre> <p>Restart your AI client after adding the configuration.</p>"},{"location":"mcp-server/#available-tools","title":"Available Tools","text":""},{"location":"mcp-server/#get_rocketship_examples","title":"get_rocketship_examples","text":"<p>Get real examples for specific Rocketship features from the codebase.</p> <p>Supported plugins: <code>http</code>, <code>delay</code>, <code>script</code>, <code>sql</code>, <code>log</code>, <code>agent</code>, <code>browser</code>, <code>supabase</code></p>"},{"location":"mcp-server/#suggest_test_structure","title":"suggest_test_structure","text":"<p>Suggests file structure and test organization based on project type.</p> <p>Project types: <code>frontend</code>, <code>backend</code>, <code>fullstack</code>, <code>api</code>, <code>mobile</code></p>"},{"location":"mcp-server/#get_schema_info","title":"get_schema_info","text":"<p>Provides current schema information for validation and syntax.</p> <p>Sections: <code>plugins</code>, <code>assertions</code>, <code>save</code>, <code>structure</code>, <code>full</code></p>"},{"location":"mcp-server/#get_cli_guidance","title":"get_cli_guidance","text":"<p>Provides CLI usage patterns and commands.</p> <p>Command types: <code>run</code>, <code>validate</code>, <code>structure</code></p>"},{"location":"mcp-server/#get_rocketship_cli_installation_instructions","title":"get_rocketship_cli_installation_instructions","text":"<p>Get platform-specific installation instructions.</p> <p>Platforms: <code>auto</code>, <code>macos-arm64</code>, <code>macos-intel</code>, <code>linux</code>, <code>windows</code></p>"},{"location":"mcp-server/#analyze_codebase_for_testing","title":"analyze_codebase_for_testing","text":"<p>Analyzes a codebase to suggest meaningful test scenarios.</p> <p>Focus areas: <code>user_journeys</code>, <code>api_endpoints</code>, <code>critical_paths</code>, <code>integration_points</code></p>"},{"location":"mcp-server/#integration-example","title":"Integration Example","text":""},{"location":"mcp-server/#claude-code","title":"Claude Code","text":"<p>Add to <code>.mcp.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"rocketship\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@rocketshipai/mcp-server@latest\"]\n    }\n  }\n}\n</code></pre> <p>Then ask Claude:</p> <pre><code>\"I need to install Rocketship and create API tests for my Express.js authentication endpoints.\"\n</code></pre> <p>Claude will use the MCP server to provide installation instructions and relevant examples.</p>"},{"location":"mcp-server/#other-editors","title":"Other Editors","text":"<p>Cursor: Settings &gt; Features &gt; Enable Model Context Protocol, then add the same config</p> <p>Windsurf: Add to <code>~/.codeium/windsurf/mcp_config.json</code></p> <p>Any MCP-compatible client can use the server via JSON-RPC over stdio.</p>"},{"location":"mcp-server/#usage-tips","title":"Usage Tips","text":"<p>Ask for specific guidance rather than complete generation:</p> <ul> <li>\"How do I install Rocketship on my platform?\"</li> <li>\"Show me examples of API authentication testing\"</li> <li>\"What assertions work best for user profile endpoints?\"</li> <li>\"How should I structure an E2E checkout flow test?\"</li> </ul>"},{"location":"mcp-server/#troubleshooting","title":"Troubleshooting","text":""},{"location":"mcp-server/#mcp-server-not-found","title":"MCP Server Not Found","text":"<ol> <li>Ensure Node.js 18+ is installed</li> <li>Check MCP configuration syntax</li> <li>Restart your AI client</li> <li>Verify npm package accessibility</li> </ol>"},{"location":"mcp-server/#no-guidance-provided","title":"No Guidance Provided","text":"<ol> <li>Be more specific in requests</li> <li>Provide context about what you're testing</li> <li>Ask for specific features or patterns</li> </ol>"},{"location":"mcp-server/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>ROCKETSHIP_LOG</code>: Set log level (DEBUG, INFO, ERROR)</li> <li><code>NODE_ENV</code>: Development/production mode</li> </ul>"},{"location":"quickstart/","title":"Quick Start Guide","text":"<p>Get started with Rocketship in minutes! This guide will help you install Rocketship and run your first test.</p> <p>What you'll learn: - How to install Rocketship on your computer - How to write a simple test - How to run your test and see the results</p> <p>For Coding Agents</p> <p>If you're a coding agent (Claude Code, Cursor, Windsurf, etc.), copy and paste the ROCKETSHIP_QUICKSTART.md file into your context window for a comprehensive reference.</p>"},{"location":"quickstart/#installation","title":"Installation","text":""},{"location":"quickstart/#step-1-install-temporal-if-running-locally","title":"Step 1: Install Temporal (if running locally)","text":"<p>Temporal helps Rocketship manage long-running tests. You only need this if you'll run tests on your own computer:</p> <pre><code>brew install temporal\n</code></pre> <p>Note: If you're using a cloud-hosted Rocketship, you can skip this step.</p>"},{"location":"quickstart/#step-2-install-rocketship","title":"Step 2: Install Rocketship","text":"<p>macOS (recommended via Homebrew):</p> <pre><code>brew tap rocketship-ai/tap\nbrew install rocketship\n</code></pre> <p>Linux and macOS (portable installer):</p> <pre><code>curl -fsSL https://raw.githubusercontent.com/rocketship-ai/rocketship/main/scripts/install.sh | bash\n</code></pre> <p>For detailed installation instructions including Windows, Docker, and optional aliases, see the Installation Guide.</p>"},{"location":"quickstart/#your-first-test","title":"Your First Test","text":"<p>Let's create a simple test that checks if a web service is responding. This test will: 1. Send a request to an API endpoint 2. Check if it returns the expected status code (200 means success) 3. Show you the results</p> <pre><code>cat &gt; simple-test.yaml &lt;&lt; 'EOF'\nname: \"Simple Test Suite\"\ndescription: \"A simple test suite!\"\ntests:\n  - name: \"API Health Check\"\n    steps:\n      - name: \"Check API status\"\n        plugin: \"http\"\n        config:\n          method: \"GET\"\n          url: \"https://tryme.rocketship.sh/status/200\"\n        assertions:\n          - type: \"status_code\"\n            expected: 200\nEOF\n</code></pre> <p>Run the test:</p> <pre><code>rocketship run -af simple-test.yaml\n</code></pre> <p>What this does: - <code>-a</code> (auto): Automatically starts and stops the testing engine for you - <code>-f</code> (file): Tells Rocketship which test file to run</p> <p>You should see output showing the test running and whether it passed or failed!</p>"},{"location":"quickstart/#running-tests-against-a-remote-engine","title":"Running Tests Against a Remote Engine","text":"<p>If your team has Rocketship running on a shared server (like in the cloud), you can connect to it using profiles. A profile is like a saved connection that remembers where your engine is located.</p> <pre><code># Create a profile pointing to your engine\nrocketship profile create production https://rocketship.company.com\n\n# Authenticate (OIDC device flow)\nrocketship login --profile production\n\n# Use the profile\nrocketship profile use production\n\n# Run tests\nrocketship run -f simple-test.yaml\n</code></pre> <p>For local Minikube deployments, port-forward the engine and create a profile:</p> <pre><code>kubectl port-forward -n rocketship svc/rocketship-engine 7700:7700\nrocketship profile create minikube grpc://localhost:7700\nrocketship profile use minikube\nrocketship run -f simple-test.yaml\n</code></pre> <p>See Deploy On Your Cloud for production deployment options.</p>"},{"location":"deploy/digitalocean/","title":"Deploy Rocketship on DigitalOcean Kubernetes","text":"<p>Early Beta - Not Recommended for Production Use</p> <p>This deployment guide is in early beta and not recommended for general usage yet. Features and deployment configurations may change without notice.</p> <p>This walkthrough recreates the production proof-of-concept we validated on DigitalOcean Kubernetes (DOKS). It covers standing up Temporal, publishing Rocketship images to DigitalOcean Container Registry (DOCR), terminating TLS through an NGINX ingress, and wiring the CLI via profiles.</p> <p>The steps assume you control public DNS for <code>cli.rocketship.globalbank.com</code>, <code>app.rocketship.globalbank.com</code>, and <code>auth.rocketship.globalbank.com</code> (or equivalent) and can issue a SAN certificate that covers all three hosts.</p>"},{"location":"deploy/digitalocean/#prerequisites","title":"Prerequisites","text":"<ul> <li>DigitalOcean account with:</li> <li>A Kubernetes cluster (2\u202f\u00d7\u202fCPU-optimised nodes were used during validation)</li> <li>DigitalOcean Container Registry (<code>registry.digitalocean.com/&lt;registry&gt;</code>) enabled</li> <li><code>doctl</code> authenticated (<code>doctl auth init</code>)</li> <li><code>kubectl</code> configured for the cluster (<code>doctl kubernetes cluster kubeconfig save &lt;cluster-name&gt;</code>)</li> <li>Docker CLI with Buildx</li> <li>Helm 3</li> <li>TLS assets</li> <li><code>certificate.crt</code> and <code>private.key</code> (ZeroSSL issues these; concatenate the intermediate bundle with the server cert if required)</li> </ul> <p>All commands below run from the repository root.</p>"},{"location":"deploy/digitalocean/#1-set-up-namespaces-and-ingress-controller","title":"1. Set Up Namespaces and Ingress Controller","text":"<pre><code>kubectl create namespace rocketship\nkubectl config set-context --current --namespace=rocketship\n\n# Install ingress-nginx (DigitalOcean automatically provisions a Load Balancer)\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx\nhelm repo update\nhelm install ingress-nginx ingress-nginx/ingress-nginx \\\n  --version 4.13.2 \\\n  --namespace ingress-nginx --create-namespace \\\n  --set controller.service.annotations.\"service\\.beta\\.kubernetes\\.io/do-loadbalancer-enable-proxy-protocol\"=\"true\"\n</code></pre> <p>The annotation enables PROXY protocol support on DigitalOcean\u2019s load balancer, which keeps source IPs available in the ingress logs. Omit or adjust if you do not need it.</p>"},{"location":"deploy/digitalocean/#2-install-temporal","title":"2. Install Temporal","text":"<pre><code>helm repo add temporal https://go.temporal.io/helm-charts\nhelm repo update\n\nhelm install temporal temporal/temporal \\\n  --version 0.66.0 \\\n  --namespace rocketship \\\n  --set server.replicaCount=1 \\\n  --set cassandra.config.cluster_size=1 \\\n  --set elasticsearch.replicas=1 \\\n  --set prometheus.enabled=false \\\n  --set grafana.enabled=false \\\n  --wait --timeout 15m\n</code></pre> <p>Register the Temporal logical namespace the Rocketship worker will use:</p> <pre><code>kubectl exec -n rocketship deploy/temporal-admintools -- \\\n  temporal operator namespace create --namespace default\n</code></pre> <p>(Keep <code>default</code> unless you intend to manage multiple namespaces; update Helm values accordingly later.)</p>"},{"location":"deploy/digitalocean/#3-create-the-tls-secret","title":"3. Create the TLS Secret","text":"<p>Issue a SAN certificate that covers <code>cli.rocketship.globalbank.com</code>, <code>app.rocketship.globalbank.com</code>, and <code>auth.rocketship.globalbank.com</code> (Let\u2019s Encrypt or ZeroSSL work well). After you have the combined cert/key, update the secret:</p> <pre><code># optional: remove the old secret if it exists\nkubectl delete secret globalbank-tls -n rocketship 2&gt;/dev/null || true\n\n# create the secret with the new cert/key\nkubectl create secret tls globalbank-tls \\\n  --namespace rocketship \\\n  --cert=/etc/letsencrypt/live/rocketship.sh/fullchain.pem \\\n  --key=/etc/letsencrypt/live/rocketship.sh/privkey.pem\n</code></pre>"},{"location":"deploy/digitalocean/#4-authenticate-the-registry-inside-the-cluster","title":"4. Authenticate the Registry Inside the Cluster","text":"<p>Create the image pull secret with <code>doctl</code> and apply it to the <code>rocketship</code> namespace:</p> <pre><code>doctl registry kubernetes-manifest --namespace rocketship &gt; do-registry-secret.yaml\nkubectl apply -f do-registry-secret.yaml\n</code></pre> <p>The secret name is typically <code>registry-&lt;registry-name&gt;</code> and is referenced automatically by the chart when <code>imagePullSecrets</code> is set.</p>"},{"location":"deploy/digitalocean/#5-build-and-push-rocketship-images","title":"5. Build and Push Rocketship Images","text":"<p>DigitalOcean\u2019s nodes run on <code>linux/amd64</code>, so build multi-architecture images to avoid \u201cexec format error\u201d crashes:</p> <pre><code>export REGISTRY=registry.digitalocean.com/rocketship\nexport TAG=v0.1-test\n\n# Engine\ndocker buildx build \\\n  --platform linux/amd64,linux/arm64 \\\n  -f .docker/Dockerfile.engine \\\n  -t $REGISTRY/rocketship-engine:$TAG . \\\n  --push\n\n# Worker\ndocker buildx build \\\n  --platform linux/amd64,linux/arm64 \\\n  -f .docker/Dockerfile.worker \\\n  -t $REGISTRY/rocketship-worker:$TAG . \\\n  --push\n\n# Controlplane\ndocker buildx build \\\n  --platform linux/amd64,linux/arm64 \\\n  -f .docker/Dockerfile.controlplane \\\n  -t $REGISTRY/rocketship-controlplane:$TAG . \\\n  --push\n</code></pre> <p>Re-run these commands whenever you change code; keep the tag stable (for example <code>v0.1-test</code>) so the Helm release pulls the updated digest.</p>"},{"location":"deploy/digitalocean/#6-deploy-the-rocketship-helm-chart","title":"6. Deploy the Rocketship Helm Chart","text":"<p>Before installing the chart, create the secrets that hold the controlplane's configuration:</p> <pre><code># 1) Postgres connection string (replace with the managed database DSN)\nkubectl create secret generic globalbank-controlplane-database \\\n  --namespace rocketship \\\n  --from-literal=DATABASE_URL='postgres://rocketship:&lt;password&gt;@&lt;host&gt;:5432/rocketship?sslmode=require'\n\n# 2) 32-byte refresh-token signing key (base64 encoded)\nkubectl create secret generic globalbank-controlplane-secrets \\\n  --namespace rocketship \\\n  --from-literal=ROCKETSHIP_CONTROLPLANE_REFRESH_KEY=\"$(openssl rand -base64 32)\"\n</code></pre> <p>The Postgres database backs user/org membership and refresh tokens. The generated <code>ROCKETSHIP_CONTROLPLANE_REFRESH_KEY</code> is used to HMAC refresh tokens before they are stored, so rotate it carefully (invalidate existing sessions as needed). Enabling the chart's bundled Postgres (<code>--set postgres.enabled=true</code>) auto-generates the controlplane database secret, so you can skip the <code>globalbank-controlplane-database</code> step and simply supply <code>postgres.auth.password</code> in the Helm command.</p> <p>Create a values override file (<code>deploy/do-values.yaml</code>) or inline the settings:</p> <pre><code>helm install rocketship charts/rocketship \\\n  --namespace rocketship \\\n  --set temporal.host=temporal-frontend.rocketship:7233 \\\n  --set temporal.namespace=default \\\n  --set engine.image.repository=$REGISTRY/rocketship-engine \\\n  --set engine.image.tag=$TAG \\\n  --set worker.image.repository=$REGISTRY/rocketship-worker \\\n  --set worker.image.tag=$TAG \\\n  # Uncomment the two lines below to use the bundled Postgres chart instead of an external DB\n  # --set postgres.enabled=true \\\n  # --set postgres.auth.password=$POSTGRES_PASSWORD \\\n  --set imagePullSecrets[0].name=registry-rocketship \\\n  --set ingress.enabled=true \\\n  --set ingress.className=nginx \\\n  --set ingress.annotations.\"nginx\\.ingress\\.kubernetes\\.io/backend-protocol\"=GRPC \\\n  --set ingress.annotations.\"nginx\\.ingress\\.kubernetes\\.io/ssl-redirect\"=\"true\" \\\n  --set ingress.annotations.\"nginx\\.ingress\\.kubernetes\\.io/proxy-body-size\"=\"0\" \\\n  --set ingress.tls[0].secretName=globalbank-tls \\\n  --set ingress.tls[0].hosts[0]=cli.rocketship.globalbank.com \\\n  --set ingress.hosts[0].host=cli.rocketship.globalbank.com \\\n  --set ingress.hosts[0].paths[0].path=/ \\\n  --set ingress.hosts[0].paths[0].pathType=Prefix \\\n  --wait\n</code></pre> <p>Confirm the pods are healthy:</p> <pre><code>kubectl get pods -n rocketship\n</code></pre> <p><code>rocketship-engine</code>, <code>rocketship-worker</code>, <code>rocketship-controlplane</code>, and <code>rocketship-web-oauth2-proxy</code> should report <code>READY 1/1</code>. Temporal services may restart once while Cassandra and Elasticsearch initialise\u2014that is expected.</p>"},{"location":"deploy/digitalocean/#7-enable-auth-for-the-web-ui-optional","title":"7. Enable Auth for the Web UI (optional)","text":"<p>After the gRPC ingress is live you can optionally front the engine\u2019s HTTP port with oauth2-proxy. Choose the option that matches your organisation:</p>"},{"location":"deploy/digitalocean/#option-a-github-controlplane-reuse-cli-device-flow","title":"Option A \u2014 GitHub controlplane (reuse CLI device flow)","text":"<ol> <li> <p>Create or reuse a GitHub OAuth app: visit https://github.com/settings/developers (or your organisation equivalent) and register an OAuth App for the CLI device flow. Record the generated Client ID and Client Secret \u2013 you will supply them via Kubernetes secrets. The Authorization callback can be any valid HTTPS URL because device flow does not redirect end users.</p> </li> <li> <p>Create the controlplane secrets: use the client ID/secret captured in the previous step.    <pre><code># GitHub OAuth app credentials\nkubectl create secret generic globalbank-github-oauth \\\n  --namespace rocketship \\\n  --from-literal=ROCKETSHIP_GITHUB_CLIENT_ID=YOUR_GITHUB_CLIENT_ID \\\n  --from-literal=ROCKETSHIP_GITHUB_CLIENT_SECRET=YOUR_GITHUB_CLIENT_SECRET\n\n# Database DSN (managed Postgres or self-hosted)\nkubectl create secret generic globalbank-controlplane-database \\\n  --namespace rocketship \\\n  --from-literal=DATABASE_URL='postgres://rocketship:&lt;password&gt;@&lt;host&gt;:5432/rocketship?sslmode=require'\n\n# Refresh-token HMAC key (32 bytes, base64 encoded)\nkubectl create secret generic globalbank-controlplane-secrets \\\n  --namespace rocketship \\\n  --from-literal=ROCKETSHIP_CONTROLPLANE_REFRESH_KEY=\"$(openssl rand -base64 32)\"\n\n# JWKS signing material (PEM formatted private key + matching cert)\nkubectl create secret generic globalbank-controlplane-signing \\\n  --namespace rocketship \\\n  --from-file=signing-key.pem=./signing-key.pem\n\n# Web front-door OAuth client (used by oauth2-proxy). Create a SECOND GitHub OAuth app with\n# callback URL https://app.globalbank.rocketship.sh/oauth2/callback and plug its credentials below.\nkubectl create secret generic oauth2-proxy-credentials \\\n  --namespace rocketship \\\n  --from-literal=clientID=YOUR_WEB_OAUTH_CLIENT_ID \\\n  --from-literal=clientSecret=YOUR_WEB_OAUTH_CLIENT_SECRET \\\n  --from-literal=cookieSecret=$(python -c \"import secrets, base64; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode())\")\n</code></pre></p> </li> <li> <p>Review <code>charts/rocketship/values-github-selfhost.yaml</code> and <code>charts/rocketship/values-github-web.yaml</code>:</p> </li> <li>Ensure the public hostnames (<code>cli/globalbank/app/globalbank</code>) match your ingress controller.</li> <li>Replace the placeholder <code>YOUR_GITHUB_CLIENT_ID</code> (and the corresponding secret) with the values from your OAuth app.</li> <li> <p>The oauth2-proxy preset points its issuer at <code>https://auth.globalbank.rocketship.sh</code>, which is served by the controlplane deployment.</p> </li> <li> <p>Apply the presets alongside the base ingress values: <pre><code>helm upgrade --install rocketship charts/rocketship \\\n  --namespace rocketship \\\n  -f charts/rocketship/values-production.yaml \\\n  -f charts/rocketship/values-github-selfhost.yaml \\\n  -f charts/rocketship/values-github-web.yaml \\\n  --wait\n</code></pre></p> </li> <li> <p>Verify the flow: visit <code>https://app.globalbank.rocketship.sh/</code> in a new session. You should be redirected to GitHub, approve the OAuth app you created, and land on the proxied Rocketship health page (<code>/healthz</code>).</p> </li> </ol> <p>If the CLI returns <code>permission denied (roles: pending)</code> after logging in, call <code>POST https://auth.globalbank.rocketship.sh/api/orgs</code> with the bearer token to create the first organisation/project, or ask an existing admin to invite you. Pending users cannot run suites until they belong to a project.</p>"},{"location":"deploy/digitalocean/#option-b-bring-your-own-idp-auth0oktaazure-ad","title":"Option B \u2014 Bring your own IdP (Auth0/Okta/Azure AD)","text":"<ol> <li> <p>Create the oauth2-proxy credentials secret: <pre><code>openssl genrsa -out signing-key.pem 2048\nkubectl create secret generic globalbank-controlplane-signing \\\n  --namespace rocketship \\\n  --from-file=signing-key.pem\n\nkubectl create secret generic globalbank-controlplane-database \\\n  --namespace rocketship \\\n  --from-literal=DATABASE_URL='postgres://rocketship:&lt;password&gt;@&lt;host&gt;:5432/rocketship?sslmode=require'\n\nkubectl create secret generic globalbank-controlplane-secrets \\\n  --namespace rocketship \\\n  --from-literal=ROCKETSHIP_CONTROLPLANE_REFRESH_KEY=\"$(openssl rand -base64 32)\"\n</code></pre></p> </li> <li> <p>Bootstrap oauth2-proxy credentials. Use the same GitHub OAuth application (client ID/secret) so both CLI and UI share it.</p> </li> </ol> <pre><code>COOKIE_SECRET=$(python3 - &lt;&lt;'PY'\nimport secrets\nprint(secrets.token_hex(16))\nPY\n)\nkubectl create secret generic oauth2-proxy-credentials \\\n  --namespace rocketship \\\n  --from-literal=clientID=YOUR_IDP_CLIENT_ID \\\n  --from-literal=clientSecret=YOUR_IDP_CLIENT_SECRET \\\n  --from-literal=cookieSecret=$(python -c \"import secrets, base64; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode())\")\n</code></pre> <ol> <li>Review <code>charts/rocketship/values-oidc-web.yaml</code>:</li> <li>Set <code>OAUTH2_PROXY_OIDC_ISSUER_URL</code> to your IdP\u2019s issuer URL (e.g. <code>https://auth.globalbank.com/oidc</code>).</li> <li>Update <code>OAUTH2_PROXY_REDIRECT_URL</code> to match the web hostname (<code>https://app.globalbank.rocketship.sh/oauth2/callback</code>).</li> <li> <p>Populate <code>auth.oidc.*</code> with the native-app client (CLI device flow) details from your IdP.</p> </li> <li> <p>Apply the preset: <pre><code>helm upgrade --install rocketship charts/rocketship \\\n  --namespace rocketship \\\n  -f charts/rocketship/values-production.yaml \\\n  -f charts/rocketship/values-oidc-web.yaml \\\n  --wait\n</code></pre></p> </li> <li> <p>Verify the flow: browse to <code>https://app.globalbank.rocketship.sh/</code>, complete your IdP login, and confirm the proxied Rocketship health page renders (<code>/healthz</code>).</p> </li> </ol>"},{"location":"deploy/digitalocean/#8-enable-token-authentication-for-grpc-recommended","title":"8. Enable Token Authentication for gRPC (recommended)","text":"<p>Issue a long-lived token for the engine so only authenticated CLI or CI jobs can invoke workflows.</p> <ol> <li> <p>Generate a token and store it in a Kubernetes secret (replace the example value):    <pre><code>kubectl create secret generic rocketship-engine-token \\\n  --namespace rocketship \\\n  --from-literal=token=\"rst_self_$(openssl rand -hex 32)\"\n</code></pre></p> </li> <li> <p>Patch your Helm values (or create <code>values-token.yaml</code>) to inject the token:</p> </li> </ol> <pre><code>engine:\n  env:\n    - name: ROCKETSHIP_ENGINE_TOKEN\n      valueFrom:\n        secretKeyRef:\n          name: rocketship-engine-token\n          key: token\n</code></pre> <p>Apply it alongside the production values:</p> <pre><code>helm upgrade --install rocketship charts/rocketship \\\n  --namespace rocketship \\\n  -f charts/rocketship/values-production.yaml \\\n  -f charts/rocketship/values-github-cloud.yaml \\\n  -f charts/rocketship/values-github-web.yaml \\\n  --set engine.image.repository=$REGISTRY/rocketship-engine \\\n  --set engine.image.tag=$TAG \\\n  --set worker.image.repository=$REGISTRY/rocketship-worker \\\n  --set worker.image.tag=$TAG \\\n  --set controlplane.image.repository=$REGISTRY/rocketship-controlplane \\\n  --set controlplane.image.tag=$TAG \\\n  --wait\n</code></pre> <ol> <li>Validate the flows. <pre><code>rocketship profile create cloud grpcs://cli.rocketship.globalbank.com\nrocketship profile use cloud\nrocketship login\nrocketship status\n</code></pre>    Browse to <code>https://app.rocketship.globalbank.com/</code> in a fresh session\u2014you should be redirected through GitHub and land back on the proxied Rocketship UI after approval. The CLI command above walks you through device flow (<code>https://github.com/login/device</code>) and persists the refresh token locally.</li> </ol> <p>The controlplane stores only hashed refresh tokens in Postgres (keyed via <code>ROCKETSHIP_CONTROLPLANE_REFRESH_KEY</code>). Rotate that secret\u2014and the signing key\u2014by updating the Kubernetes secrets and rerunning <code>helm upgrade</code>. If the CLI reports <code>permission denied (roles: pending)</code>, use the issued bearer token to call <code>POST https://auth.globalbank.rocketship.sh/api/orgs</code> and create the first organisation, or ask an administrator to invite you.</p>"},{"location":"deploy/digitalocean/#option-2-bring-your-own-idp-auth0-okta-azure-ad","title":"Option 2 \u2013 Bring your own IdP (Auth0, Okta, Azure AD, \u2026)","text":"<p>If you already manage an internal IdP, point the chart at it. Provision the necessary applications in your provider (typically a native app for the CLI device flow and a web app for oauth2-proxy), then update <code>charts/rocketship/values-oidc-web.yaml</code> with your issuer, client IDs, and scopes.</p> <pre><code>helm upgrade --install rocketship charts/rocketship \\\n  --namespace rocketship \\\n  -f charts/rocketship/values-production.yaml \\\n  -f charts/rocketship/values-oidc-web.yaml \\\n  --set engine.image.repository=$REGISTRY/rocketship-engine \\\n  --set engine.image.tag=$TAG \\\n  --set worker.image.repository=$REGISTRY/rocketship-worker \\\n  --set worker.image.tag=$TAG \\\n  --set controlplane.image.repository=$REGISTRY/rocketship-controlplane \\\n  --set controlplane.image.tag=$TAG \\\n  --wait\n</code></pre> <p>After rollout, point your CLI profile at the engine (<code>rocketship profile create &lt;name&gt; grpcs://cli.rocketship.globalbank.com</code>) and run <code>rocketship login</code>. The CLI follows the device flow your IdP exposes and automatically refreshes the issued token on subsequent commands.</p>"},{"location":"deploy/digitalocean/#rbac-considerations","title":"RBAC considerations","text":"<p>Regardless of where Rocketship runs (cloud usage-based, dedicated enterprise, or self-hosted), the recommended RBAC model is the same:</p> <ol> <li>Issue Rocketship JWTs that carry organisation/team roles. The controlplane (or customer IdP) mints access tokens with claims such as <code>org</code>, <code>project</code>, and <code>role</code> (<code>admin</code>, <code>editor</code>, <code>viewer</code>, <code>service-account</code>).</li> <li>Engine enforces on every RPC. When the CLI calls <code>CreateRun</code>, <code>ListRuns</code>, etc., the engine reads the claims and rejects calls from users without the required role. Tokens are short-lived and verified via JWKS, so enforcement is consistent across cloud and self-hosted clusters.</li> <li>Role management lives in Rocketship. Maintain an RBAC table in Rocketship Cloud (or the controlplane) so you can invite users, sync GitHub teams if desired, or import roles from customer IdPs. The engine only consumes the resulting claims; it doesn't need to know whether they originated from GitHub, Okta, or internal configuration.</li> <li>Future enhancements (optional): provide an <code>rbac.yaml</code> or Terraform provider so self-hosted clusters can seed organisations/roles declaratively, and add UI to sync GitHub org/team membership if customers opt in.</li> </ol> <p>This approach lets you offer the same RBAC semantics in every environment. Usage-based customers rely on the GitHub-backed controlplane, while enterprise tenants with their own IdP simply mint tokens that include the same claim set.</p>"},{"location":"deploy/digitalocean/#10-point-dns-at-the-load-balancer","title":"10. Point DNS at the Load Balancer","text":"<p>Create A (or CNAME) records for <code>cli.rocketship.globalbank.com</code>, <code>app.rocketship.globalbank.com</code>, and <code>auth.rocketship.globalbank.com</code> pointing at the ingress load balancer IP (see step 6). DNS propagation usually completes within a minute on DigitalOcean DNS, but public resolvers may take longer.</p>"},{"location":"deploy/digitalocean/#11-smoke-test-the-endpoint","title":"11. Smoke Test the Endpoint","text":"<p>The Rocketship health endpoint answers gRPC, so an HTTPS request returns <code>415</code> with <code>application/grpc</code>, which confirms end-to-end TLS:</p> <pre><code>curl -v https://cli.rocketship.globalbank.com/healthz\ncurl -v https://auth.rocketship.globalbank.com/healthz\n</code></pre> <p>Create and use the default cloud profile from the CLI (already pointing at <code>cli.rocketship.globalbank.com:443</code>):</p> <pre><code>rocketship profile list\nrocketship login\nrocketship run -f examples/simple-http/rocketship.yaml\n</code></pre> <p>If you see a <code>connection refused</code> message against <code>127.0.0.1:7700</code>, ensure you are running a CLI build that includes the profile resolution fixes introduced in PR\u202f#2.</p>"},{"location":"deploy/digitalocean/#10-updating-the-deployment","title":"10. Updating the Deployment","text":"<ol> <li>Rebuild and push the images with the same tag (or bump the <code>TAG</code>).</li> <li>Run <code>helm upgrade rocketship charts/rocketship ...</code> with the updated values.</li> <li>Watch rollout status:    <pre><code>kubectl rollout status deploy/rocketship-engine -n rocketship\nkubectl rollout status deploy/rocketship-worker -n rocketship\n</code></pre></li> </ol>"},{"location":"deploy/digitalocean/#11-troubleshooting-tips","title":"11. Troubleshooting Tips","text":"<ul> <li><code>CrashLoopBackOff</code> with <code>exec /bin/engine: exec format error</code> indicates the image was built for the wrong architecture. Rebuild with <code>--platform linux/amd64</code>.</li> <li>If the worker logs show <code>Namespace &lt;name&gt; is not found</code>, rerun the Temporal namespace creation step and verify <code>temporal.namespace</code> in the Helm values matches.</li> <li><code>curl</code> connecting to <code>127.0.0.1</code> usually means DNS hasn\u2019t propagated or the CLI profile points at the wrong port (<code>7700</code> vs <code>443</code>). Profiles created with <code>grpcs://</code> automatically default to port 443.</li> </ul> <p>With these steps you have a durable Rocketship installation bridging a managed Temporal stack, ingress TLS, and CLI profiles\u2014ready for teams to run suites from their laptops or CI pipelines.</p>"},{"location":"deploy/minikube/","title":"Run Rocketship on Minikube","text":"<p>Local Kubernetes cluster for development with full auth, database support, and hot-reloading via Skaffold.</p>"},{"location":"deploy/minikube/#quick-start","title":"Quick Start","text":"<pre><code># 1. Create .env file with secrets (see \"Configure Secrets\" below)\necho \"ROCKETSHIP_GITHUB_CLIENT_SECRET=...\" &gt; .env\necho \"ROCKETSHIP_EMAIL_FROM=...\" &gt;&gt; .env\necho \"ROCKETSHIP_POSTMARK_SERVER_TOKEN=...\" &gt;&gt; .env\n\n# 2. Run setup script (one-time infrastructure setup)\nscripts/setup-local-dev.sh\n\n# 3. Configure local DNS\necho \"127.0.0.1 auth.minikube.local\" | sudo tee -a /etc/hosts\n\n# 4. Start everything with one command\nscripts/start-dev.sh\n\n# 5. Visit http://auth.minikube.local and sign in with GitHub\n</code></pre> <p>The <code>start-dev.sh</code> script automatically: - Starts minikube tunnel - Starts Vite dev server for the web UI - Runs Skaffold in dev mode for hot-reloading backend services</p> <p>Make code changes and watch them automatically rebuild and redeploy!</p>"},{"location":"deploy/minikube/#prerequisites","title":"Prerequisites","text":"<ul> <li>macOS or Linux with 6+ vCPUs, 12+ GB RAM (for Temporal + Go builds)</li> <li>Minikube v1.36+</li> <li>kubectl</li> <li>Helm 3</li> <li>Skaffold v2.0+</li> <li>Docker (required for Minikube driver)</li> <li>Node.js v20+ and npm (for web UI development)</li> </ul>"},{"location":"deploy/minikube/#setup","title":"Setup","text":""},{"location":"deploy/minikube/#1-configure-secrets","title":"1. Configure Secrets","text":"<p>Create a <code>.env</code> file in the repository root with the following secrets:</p> <pre><code>ROCKETSHIP_GITHUB_CLIENT_SECRET=&lt;github-oauth-client-secret&gt;\nROCKETSHIP_EMAIL_FROM=&lt;email-sender-address&gt;\nROCKETSHIP_POSTMARK_SERVER_TOKEN=&lt;postmark-api-token&gt;\n</code></pre> <p>Option A: Extract from production cluster (requires kubectl access to <code>do-nyc1-rs-test-project</code>):</p> <pre><code>kubectl config use-context do-nyc1-rs-test-project\nkubectl get secret rocketship-github-oauth -n rocketship -o jsonpath='{.data.ROCKETSHIP_GITHUB_CLIENT_SECRET}' | base64 -d\nkubectl get secret rocketship-postmark-secret -n rocketship -o jsonpath='{.data.ROCKETSHIP_EMAIL_FROM}' | base64 -d\nkubectl get secret rocketship-postmark-secret -n rocketship -o jsonpath='{.data.ROCKETSHIP_POSTMARK_SERVER_TOKEN}' | base64 -d\nkubectl config use-context rocketship\n</code></pre> <p>Option B: Get from team member (if you don't have cluster access):</p> <p>Ask a team member with cluster access to share their <code>.env</code> file or provide the three required values.</p> <p>GitHub OAuth App Setup:</p> <p>The <code>ROCKETSHIP_GITHUB_CLIENT_SECRET</code> corresponds to a GitHub OAuth App with these settings:</p> <ul> <li>Client ID: <code>Ov23li2GoXfR7bC7fR0y</code> (configured in <code>charts/rocketship/values-minikube-local.yaml</code>)</li> <li>Authorization callback URL: <code>http://auth.minikube.local/callback</code></li> </ul> <p>If you need to create your own OAuth app for testing:</p> <ol> <li>Go to GitHub Settings \u2192 Developer settings \u2192 OAuth Apps \u2192 New OAuth App</li> <li>Set Homepage URL: <code>http://auth.minikube.local</code></li> <li>Set Authorization callback URL: <code>http://auth.minikube.local/callback</code></li> <li>Copy the Client Secret to your <code>.env</code> file</li> <li>Update <code>charts/rocketship/values-minikube-local.yaml</code> with your Client ID</li> </ol> <p>GitHub App Setup (Repository Access):</p> <p>Rocketship Cloud uses a GitHub App (not OAuth scopes) for repository access so users can grant access to specific repositories.</p> <ol> <li>Create a GitHub App (GitHub Settings \u2192 Developer settings \u2192 GitHub Apps \u2192 New GitHub App)</li> <li>Set Setup URL: <code>http://auth.minikube.local/github-app/callback</code></li> <li>Recommended repository permissions:</li> <li>Contents: Read-only (v1)</li> <li>Pull requests: Read &amp; write (optional now; needed for v2 \u201copen PR from UI\u201d)</li> <li>After creating the app, generate and download a private key (<code>.pem</code>).</li> </ol> <p>Store the <code>.pem</code> somewhere local (it must never be committed). For convenience you can keep it in the repo root; it is gitignored.</p> <p>Add these to your local <code>.env</code>:</p> <pre><code>ROCKETSHIP_GITHUB_APP_ID=\"YOUR_APP_ID\"\nROCKETSHIP_GITHUB_APP_SLUG=\"YOUR_APP_SLUG\"\nROCKETSHIP_GITHUB_APP_PRIVATE_KEY_FILE=\"./path/to/your/private-key.pem\"\n</code></pre> <p>Then re-run setup so the Kubernetes secret is created:</p> <pre><code>scripts/setup-local-dev.sh\n</code></pre> <p>If you change GitHub App permissions or installed repositories, re-run the app installation and then restart the controlplane.</p> <p>GitHub App Webhooks (Auto-sync via Smee):</p> <p>For local development, GitHub cannot reach <code>http://auth.minikube.local</code> directly. Rocketship uses a Smee relay pod inside the cluster to forward GitHub App webhooks into the controlplane.</p> <ol> <li>Create a Smee channel: <code>https://smee.io/new</code></li> <li>In your GitHub App settings, set:</li> <li>Webhook URL: your Smee URL (e.g. <code>https://smee.io/abcd1234</code>)</li> <li>Webhook secret: generate a secret and save it locally</li> <li>Enable events: <code>push</code>, <code>pull_request</code>, <code>installation</code>, <code>installation_repositories</code></li> <li>Add these to your local <code>.env</code>:</li> </ol> <pre><code>ROCKETSHIP_GITHUB_WEBHOOK_SMEE_URL=\"https://smee.io/your-channel\"\nROCKETSHIP_GITHUB_WEBHOOK_SECRET=\"your-webhook-secret\"\n</code></pre> <ol> <li>Re-run setup so the secret and relay deployment are created:</li> </ol> <pre><code>scripts/setup-local-dev.sh\n</code></pre> <ol> <li>Verify webhook ingestion:</li> </ol> <pre><code>kubectl -n rocketship logs deploy/rocketship-github-webhook-relay --tail=50\nkubectl -n rocketship logs deploy/rocketship-controlplane --tail=200 | rg \"webhook received\"\nkubectl -n rocketship exec rocketship-postgresql-0 -- bash -lc 'PGPASSWORD=rocketship-dev-password /opt/bitnami/postgresql/bin/psql -U rocketship -d rocketship -c \"select event, repository_full_name, ref, action, received_at from github_webhook_deliveries order by received_at desc limit 10;\"'\n</code></pre>"},{"location":"deploy/minikube/#2-run-setup-script","title":"2. Run Setup Script","text":"<pre><code>scripts/setup-local-dev.sh\n</code></pre> <p>This sets up the minikube infrastructure (one-time setup):</p> <ul> <li>Minikube cluster with ingress enabled</li> <li>Temporal (workflow engine)</li> <li>PostgreSQL (database)</li> <li>All required secrets</li> <li>Vite relay for web UI development</li> </ul> <p>Note: This script does NOT deploy Rocketship services. Skaffold handles that for hot-reloading.</p>"},{"location":"deploy/minikube/#3-configure-local-dns","title":"3. Configure Local DNS","text":"<p>Add to <code>/etc/hosts</code>:</p> <pre><code>echo \"127.0.0.1 auth.minikube.local\" | sudo tee -a /etc/hosts\n</code></pre> <p>Why needed: This ensures: - Your browser sends <code>Host: auth.minikube.local</code> header (matches ingress rule) - Stable origin for cookies (<code>auth.minikube.local</code> instead of <code>localhost</code>) - OAuth callback URLs and JWT issuer URLs are consistent</p>"},{"location":"deploy/minikube/#usage","title":"Usage","text":""},{"location":"deploy/minikube/#quick-start-all-in-one-script","title":"Quick Start - All-in-One Script","text":"<pre><code>scripts/start-dev.sh\n</code></pre> <p>This automatically starts: 1. Minikube tunnel (binds ingress to <code>127.0.0.1</code>) 2. Vite dev server for web UI 3. Skaffold in development mode (watches code, rebuilds on changes)</p> <p>Visit <code>http://auth.minikube.local</code> and sign in with GitHub!</p> <p>Hot Reloading: Edit any Go file in <code>cmd/engine/</code>, <code>cmd/worker/</code>, <code>cmd/controlplane/</code>, or <code>internal/</code>, save, and Skaffold will automatically: - Rebuild the Docker image - Redeploy to Kubernetes - Stream logs to your terminal</p> <p>Press <code>Ctrl+C</code> to stop all processes.</p>"},{"location":"deploy/minikube/#manual-development-workflow","title":"Manual Development Workflow","text":"<p>If you prefer to run components separately:</p> <ol> <li> <p>Start minikube tunnel (separate terminal):    <pre><code>sudo minikube tunnel -p rocketship\n</code></pre></p> </li> <li> <p>Start Vite dev server (separate terminal):    <pre><code>cd web &amp;&amp; npm run dev\n</code></pre></p> </li> <li> <p>Run Skaffold (watches for changes and rebuilds):    <pre><code># Standard mode (all traffic through minikube tunnel)\nskaffold dev\n\n# Debug mode (with verbose logging)\nskaffold dev -p debug\n</code></pre></p> </li> </ol>"},{"location":"deploy/minikube/#cli-without-auth","title":"CLI Without Auth","text":"<p>If you just need CLI access without web UI:</p> <pre><code># Port-forward the engine\nkubectl port-forward -n rocketship svc/rocketship-engine 7700:7700 &amp;\n\n# Configure CLI\nrocketship profile create minikube grpc://localhost:7700\nrocketship profile use minikube\n\n# Run tests\nrocketship run -af examples/simple-http/rocketship.yaml\n</code></pre>"},{"location":"deploy/minikube/#cli-with-auth","title":"CLI With Auth","text":"<pre><code>rocketship login\n# Follow GitHub device flow prompts\n</code></pre>"},{"location":"deploy/minikube/#web-app","title":"Web App","text":"<p>The web UI is served through the same ingress as the controlplane (single-origin architecture):</p> <ul> <li>UI: <code>http://auth.minikube.local/</code></li> <li>Auth API: <code>http://auth.minikube.local/api</code>, <code>/authorize</code>, <code>/token</code>, <code>/callback</code></li> <li>Engine API: <code>http://auth.minikube.local/engine</code></li> </ul> <p>How it works: - The <code>vite-relay</code> deployment proxies requests to your local Vite server - All services share the same origin for cookie-based auth - Hot Module Replacement (HMR) still works through the ingress</p>"},{"location":"deploy/minikube/#customization","title":"Customization","text":"<p>Override defaults via environment variables:</p> Variable Default Description <code>MINIKUBE_PROFILE</code> <code>rocketship</code> Minikube profile name <code>ROCKETSHIP_NAMESPACE</code> <code>rocketship</code> Kubernetes namespace <code>TEMPORAL_NAMESPACE</code> <code>rocketship</code> Temporal namespace <code>POSTGRES_PASSWORD</code> <code>rocketship-dev-password</code> Postgres password <p>Example:</p> <pre><code>ROCKETSHIP_NAMESPACE=testing scripts/setup-local-dev.sh\n</code></pre>"},{"location":"deploy/minikube/#skaffold-configuration","title":"Skaffold Configuration","text":"<p>The <code>skaffold.yaml</code> file defines what gets built and deployed:</p> <ul> <li>Artifacts: Three Docker images (engine, worker, controlplane)</li> <li>Deploy: Helm-based deployment with values from <code>charts/rocketship/values-minikube-local.yaml</code></li> <li>Profiles:</li> <li><code>debug</code>: Enables debug logging for all services</li> <li><code>no-port-forward</code>: Disables port forwarding (use with minikube tunnel)</li> </ul> <p>Edit <code>skaffold.yaml</code> to customize build or deployment behavior.</p>"},{"location":"deploy/minikube/#troubleshooting","title":"Troubleshooting","text":"<p>Skaffold build fails: Ensure Docker is using minikube's daemon: <pre><code>eval \"$(minikube -p rocketship docker-env)\"\n</code></pre></p> <p>Pods not ready: Wait 2-3 minutes for Temporal and Postgres to initialize.</p> <p>Controlplane fails: Check <code>.env</code> has valid <code>ROCKETSHIP_GITHUB_CLIENT_SECRET</code> and <code>ROCKETSHIP_POSTMARK_SERVER_TOKEN</code>.</p> <p>Skaffold not watching files: Ensure you're in the repository root when running <code>skaffold dev</code>.</p> <p>Changes not deploying: Check Skaffold output for build errors. Press <code>Ctrl+C</code> and restart if needed.</p> <p>Web UI not loading:</p> <ol> <li>Ensure web dependencies are installed: <code>cd web &amp;&amp; npm install</code></li> <li>Verify Vite is running: <code>curl http://localhost:5173</code></li> <li>Check vite-relay can reach host:    <pre><code>kubectl run -n rocketship test-vite --rm -it --image=busybox:1.36 --restart=Never -- \\\n  wget -qO- http://192.168.64.1:5173/ | head -n 5\n</code></pre>    If this fails, check macOS firewall settings for Node/Vite on port 5173.</li> </ol> <p>Install script warnings about host connectivity: The install script tests connectivity to your host's Vite server to auto-detect the correct IP. If Vite isn't running yet, you'll see warnings like \"Could not detect reachable host IP\" - this is expected and the script will use a sensible default (192.168.64.1). Start Vite after installation completes.</p> <p>Cookies not working: Ensure you're accessing the UI via <code>http://auth.minikube.local</code> (not <code>http://localhost:5173</code>). The single-origin architecture requires UI, controlplane, and engine to be served from the same host for cookies to work.</p> <p>Engine API not accessible: Verify the ingress includes the <code>/engine</code> path:</p> <pre><code>kubectl get ingress rocketship-gateway -n rocketship -o jsonpath='{.spec.rules[0].http.paths[*].path}'\n</code></pre> <p>Should show: <code>/api /authorize /token /callback /logout /engine /</code></p> <p>Controlplane unreachable from inside cluster: The install script automatically detects the ingress controller's ClusterIP and configures engine hostAliases. If this failed, manually get the IP and redeploy:</p> <pre><code>kubectl get svc -n ingress-nginx ingress-nginx-controller -o jsonpath='{.spec.clusterIP}'\nhelm upgrade rocketship charts/rocketship --namespace rocketship \\\n  --values charts/rocketship/values-minikube-local.yaml \\\n  --set temporal.host=temporal-frontend.rocketship:7233 \\\n  --set temporal.namespace=rocketship \\\n  --set \"engine.hostAliases[0].ip=&lt;YOUR-IP&gt;\" --wait\n</code></pre> <p>Controlplane unreachable from local machine: Ensure <code>/etc/hosts</code> entry exists and <code>sudo minikube tunnel</code> is running.</p>"},{"location":"deploy/minikube/#cleanup","title":"Cleanup","text":"<pre><code>helm uninstall rocketship temporal -n rocketship\nkubectl delete namespace rocketship\nminikube delete -p rocketship\n</code></pre>"},{"location":"features/lifecycle-hooks/","title":"Lifecycle Hooks","text":"<p>Lifecycle hooks let you automatically run setup and cleanup tasks before and after your tests. This is perfect for: - Creating test data before tests run - Cleaning up test data after tests complete - Setting up authentication or connections - Collecting logs or debugging info when tests fail</p> <p>Two levels of hooks: - Suite-level: Run once for all tests in a file - Test-level: Run for each individual test</p>"},{"location":"features/lifecycle-hooks/#suite-lifecycle","title":"Suite Lifecycle","text":"<pre><code>name: \"API Test Suite\"\ninit:\n  - name: \"Get auth token\"\n    plugin: http\n    config:\n      method: POST\n      url: \"{{ .env.API_URL }}/auth/token\"\n    save:\n      - json_path: \".token\"\n        as: \"api_token\"\n\ntests:\n  - name: \"Test with token\"\n    steps:\n      - plugin: http\n        config:\n          url: \"{{ .env.API_URL }}/users\"\n          headers:\n            Authorization: \"Bearer {{ api_token }}\"\n\ncleanup:\n  always:\n    - name: \"Cleanup resources\"\n      plugin: http\n      config:\n        method: DELETE\n        url: \"{{ .env.API_URL }}/test-data\"\n\n  on_failure:\n    - name: \"Collect logs\"\n      plugin: http\n      config:\n        method: GET\n        url: \"{{ .env.OPS_URL }}/logs?run={{ .run.id }}\"\n</code></pre> <p>Execution order: 1. <code>init</code> steps run first (setup for all tests) 2. All <code>tests</code> run 3. If any test failed, <code>cleanup.on_failure</code> steps run 4. <code>cleanup.always</code> steps always run (cleanup guaranteed)</p>"},{"location":"features/lifecycle-hooks/#test-lifecycle","title":"Test Lifecycle","text":"<pre><code>tests:\n  - name: \"User CRUD test\"\n    init:\n      - name: \"Create test user\"\n        plugin: http\n        config:\n          method: POST\n          url: \"{{ .env.API_URL }}/users\"\n        save:\n          - json_path: \".id\"\n            as: \"user_id\"\n\n    steps:\n      - name: \"Update user\"\n        plugin: http\n        config:\n          method: PATCH\n          url: \"{{ .env.API_URL }}/users/{{ user_id }}\"\n\n    cleanup:\n      always:\n        - name: \"Delete user\"\n          plugin: http\n          config:\n            method: DELETE\n            url: \"{{ .env.API_URL }}/users/{{ user_id }}\"\n</code></pre> <p>Execution order: 1. Test <code>init</code> steps run first (setup for this test) 2. Test <code>steps</code> run 3. If the test failed, <code>cleanup.on_failure</code> steps run 4. <code>cleanup.always</code> steps always run (cleanup guaranteed)</p>"},{"location":"features/lifecycle-hooks/#where-variables-are-available","title":"Where Variables Are Available","text":"<p>When you save a variable, where can you use it?</p> Where Variable is Saved Can Use It In Suite <code>init</code> All tests and suite cleanup Test <code>init</code> or <code>steps</code> Remaining steps in that test and the test's cleanup <code>cleanup.always</code> or <code>on_failure</code> Later cleanup steps in the same cleanup block"},{"location":"features/lifecycle-hooks/#best-practices","title":"Best Practices","text":"<ul> <li>Always cleanup: Use <code>cleanup.always</code> to prevent resource leaks</li> <li>Unique resources: Use <code>{{ .run.id }}</code> for unique resource names</li> <li>Log on failure: Use <code>cleanup.on_failure</code> to collect debugging info</li> <li>Test isolation: Each test should be independent</li> </ul>"},{"location":"features/lifecycle-hooks/#see-also","title":"See Also","text":"<ul> <li>Variables - Using saved variables from hooks</li> <li>Retry Policies - Adding retries to hook steps</li> </ul>"},{"location":"features/retry-policies/","title":"Retry Policies","text":"<p>Sometimes tests fail not because something is broken, but because of temporary issues like network hiccups or services being briefly unavailable. Retry policies tell Rocketship to automatically try again if a step fails, making your tests more reliable.</p> <p>When to use retries: - Network requests that might timeout - APIs that occasionally return errors - Services that need a moment to process data - Any step that might fail due to timing issues</p> <p>When NOT to use retries: - Validation errors (like wrong data format) - Authentication failures (like wrong password) - Permanent errors (like 404 Not Found)</p>"},{"location":"features/retry-policies/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"API request with retry\"\n  plugin: http\n  config:\n    method: GET\n    url: \"{{ .vars.api_url }}/users\"\n  retry:\n    maximum_attempts: 3\n    initial_interval: \"1s\"\n    backoff_coefficient: 2.0\n</code></pre>"},{"location":"features/retry-policies/#configuration","title":"Configuration","text":"Option Description Example <code>maximum_attempts</code> Maximum retry attempts <code>3</code> <code>initial_interval</code> Initial retry delay <code>\"1s\"</code>, <code>\"500ms\"</code> <code>maximum_interval</code> Maximum retry delay <code>\"30s\"</code> <code>backoff_coefficient</code> Exponential backoff multiplier <code>2.0</code> <code>non_retryable_errors</code> Error types to never retry <code>[\"ValidationError\"]</code>"},{"location":"features/retry-policies/#backoff-strategies","title":"Backoff Strategies","text":"<p>Backoff means \"wait before trying again.\" Different strategies control how long to wait:</p>"},{"location":"features/retry-policies/#exponential-backoff","title":"Exponential Backoff","text":"<p>Wait longer each time - good for rate-limited APIs or services that need time to recover:</p> <pre><code>retry:\n  maximum_attempts: 4\n  initial_interval: \"1s\"\n  backoff_coefficient: 2.0\n# Retry delays: 1s \u2192 2s \u2192 4s \u2192 8s\n</code></pre>"},{"location":"features/retry-policies/#linear-backoff","title":"Linear Backoff","text":"<p>Wait the same amount of time each retry - good for services that recover quickly:</p> <pre><code>retry:\n  maximum_attempts: 3\n  initial_interval: \"5s\"\n  backoff_coefficient: 1.0\n# Retry delays: 5s \u2192 5s \u2192 5s\n</code></pre>"},{"location":"features/retry-policies/#capped-exponential","title":"Capped Exponential","text":"<p>Same as exponential, but never wait longer than a maximum time - prevents extremely long waits:</p> <pre><code>retry:\n  maximum_attempts: 5\n  initial_interval: \"1s\"\n  maximum_interval: \"10s\"\n  backoff_coefficient: 2.0\n# Retry delays: 1s \u2192 2s \u2192 4s \u2192 8s \u2192 10s (capped)\n</code></pre>"},{"location":"features/retry-policies/#common-patterns","title":"Common Patterns","text":"<pre><code># Flaky HTTP endpoints\n- name: \"Call API\"\n  plugin: http\n  config:\n    method: GET\n    url: \"{{ .vars.api_url }}/status\"\n  retry:\n    maximum_attempts: 5\n    initial_interval: \"1s\"\n    backoff_coefficient: 2.0\n\n# Database queries\n- name: \"Query database\"\n  plugin: sql\n  config:\n    driver: postgres\n    dsn: \"{{ .env.DATABASE_URL }}\"\n    commands:\n      - \"SELECT COUNT(*) FROM users;\"\n  retry:\n    maximum_attempts: 3\n    initial_interval: \"2s\"\n\n# Skip specific errors\n- name: \"Create user\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.api_url }}/users\"\n  retry:\n    maximum_attempts: 3\n    non_retryable_errors:\n      - \"ValidationError\"\n      - \"AuthenticationError\"\n</code></pre>"},{"location":"features/retry-policies/#best-practices","title":"Best Practices","text":"<ul> <li>Use retries for: Network timeouts, transient failures, flaky APIs, eventual consistency</li> <li>Don't retry: Validation errors, authentication failures, permanent errors (404, 401)</li> <li>Start conservative: Begin with 3 attempts, adjust based on flakiness</li> <li>Use exponential backoff: Better for rate-limited APIs</li> <li>Set maximum_interval: Prevent excessively long delays</li> </ul>"},{"location":"features/retry-policies/#see-also","title":"See Also","text":"<ul> <li>Delay Plugin - Fixed delays between steps</li> <li>HTTP Plugin - HTTP request retries</li> </ul>"},{"location":"features/variables/","title":"Variables","text":"<p>Variables let you make your tests flexible and reusable. Instead of hardcoding values like URLs or passwords, you can use variables that change based on where or how you run the test.</p> <p>Why use variables? - Run the same test in different environments (development, staging, production) - Keep secrets (like passwords) separate from your test code - Reuse values across multiple steps in a test</p>"},{"location":"features/variables/#variable-types","title":"Variable Types","text":"<p>Rocketship supports four types of variables. Each serves a different purpose:</p> Type Syntax When to Use Example Built-in <code>{{ .run.id }}</code> Unique IDs that Rocketship generates <code>{{ .run.id }}</code> Environment <code>{{ .env.VAR }}</code> Secrets, passwords, and sensitive data <code>{{ .env.API_KEY }}</code> Config <code>{{ .vars.name }}</code> Settings that change between runs <code>{{ .vars.base_url }}</code> Runtime <code>{{ variable }}</code> Values saved from one step to use in the next <code>{{ user_id }}</code>"},{"location":"features/variables/#built-in-variables","title":"Built-in Variables","text":"<p>Rocketship automatically provides these variables for every test run:</p> Variable Description Example <code>{{ .run.id }}</code> A unique ID for each test run (useful for creating unique test data) <code>a3f2e91c</code> <pre><code># Unique test data per run\n- name: \"Create user\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .env.API_URL }}/users\"\n    body: |\n      {\n        \"email\": \"test-{{ .run.id }}@example.com\"\n      }\n</code></pre>"},{"location":"features/variables/#environment-variables","title":"Environment Variables","text":"<p>Use environment variables for secrets and sensitive information like API keys, passwords, or tokens. These should never be stored in your test files.</p> <p>Why? Security best practice - keep secrets out of code that might be shared or committed to version control.</p> <pre><code>steps:\n  - plugin: http\n    config:\n      url: \"{{ .env.API_BASE_URL }}/users\"\n      headers:\n        Authorization: \"Bearer {{ .env.API_TOKEN }}\"\n</code></pre> <pre><code># Load from .env file\nrocketship run -af test.yaml --env-file .env\n\n# Or from system environment\nexport API_TOKEN=sk-your-token\nrocketship run -af test.yaml\n</code></pre> <p>Which value is used? If the same variable is set in multiple places, Rocketship uses this priority (first match wins): 1. System environment variables (highest priority) 2. Values from <code>--env-file</code> 3. Default values in your YAML file (lowest priority)</p>"},{"location":"features/variables/#config-variables","title":"Config Variables","text":"<p>Use config variables for test settings that change between runs but aren't secrets. Examples: API versions, timeout values, feature flags, or which environment to test.</p> <p>Perfect for: Making one test file work in multiple scenarios without changing the code.</p> <pre><code>vars:\n  api_version: \"v2\"\n  timeout: 30\n\ntests:\n  - steps:\n      - plugin: http\n        config:\n          url: \"{{ .vars.base_url }}/{{ .vars.api_version }}/users\"\n</code></pre> <pre><code># Override via CLI\nrocketship run -af test.yaml --var api_version=v3\n</code></pre> <p>Which value is used? Rocketship checks in this order: 1. Values passed with <code>--var</code> flags on the command line (highest priority) 2. Values from <code>--var-file</code> 3. Values defined in the YAML <code>vars</code> section (lowest priority)</p>"},{"location":"features/variables/#runtime-variables","title":"Runtime Variables","text":"<p>Runtime variables let you pass data from one step to the next. For example, when you create a user and get back an ID, you can save that ID and use it in later steps to update or delete that user.</p> <p>How it works: In one step, you save a value (like a user ID). In later steps, you reference that saved value.</p> <pre><code>- name: \"Create user\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.base_url }}/users\"\n  save:\n    - json_path: \".id\"\n      as: \"user_id\"\n\n- name: \"Get user\"\n  plugin: http\n  config:\n    url: \"{{ .vars.base_url }}/users/{{ user_id }}\"\n</code></pre>"},{"location":"features/variables/#using-literal-curly-braces","title":"Using Literal Curly Braces","text":"<p>Sometimes you need to include <code>{{ }}</code> in your text without Rocketship treating it as a variable. Escape them with backslashes:</p> <pre><code># Processed variable\n\"api_url\": \"{{ .env.API_BASE_URL }}/users\"\n\n# Literal handlebars\n\"template\": \"Use \\\\{{ user_id }} in the API\"\n# Result: \"Use {{ user_id }} in the API\"\n</code></pre>"},{"location":"features/variables/#best-practices","title":"Best Practices","text":"<ul> <li>Environment: Use <code>.gitignore</code> for <code>.env</code> files, never commit secrets</li> <li>Config: Use descriptive names, put defaults in YAML, override via <code>--var</code></li> <li>Runtime: Use descriptive names, clean up test data in lifecycle hooks</li> <li>Security: Store secrets in CI/CD platform, not in env files</li> </ul>"},{"location":"features/variables/#see-also","title":"See Also","text":"<ul> <li>HTTP Plugin - Using variables in HTTP requests</li> <li>Lifecycle Hooks - Setting up and tearing down test data</li> </ul>"},{"location":"plugins/","title":"Plugins","text":"<p>Rocketship provides a plugin-based architecture for testing different protocols and services. Each plugin is designed to be simple, focused, and composable.</p>"},{"location":"plugins/#available-plugins","title":"Available Plugins","text":""},{"location":"plugins/#api-testing","title":"API Testing","text":"<ul> <li>HTTP - Test REST APIs with request chaining, assertions, and OpenAPI validation</li> <li>Supabase - Test Supabase database, authentication, and storage operations</li> </ul>"},{"location":"plugins/#database-testing","title":"Database Testing","text":"<ul> <li>SQL - Execute queries and validate results across PostgreSQL, MySQL, SQLite, and SQL Server</li> </ul>"},{"location":"plugins/#browser-testing","title":"Browser Testing","text":"<ul> <li>Agent - AI-powered testing using Claude with MCP servers (recommended)</li> <li>Playwright - Deterministic browser automation with Python scripts</li> <li>Browser Use - AI-driven browser automation with natural language tasks</li> </ul>"},{"location":"plugins/#scripting-utilities","title":"Scripting &amp; Utilities","text":"<ul> <li>Script - Execute custom JavaScript or shell scripts for data processing and validation</li> <li>Log - Output custom messages during test execution</li> <li>Delay - Add deterministic pauses between test steps</li> </ul>"},{"location":"plugins/#plugin-architecture","title":"Plugin Architecture","text":"<p>All plugins follow a consistent interface:</p> <pre><code>- name: \"Step name\"\n  plugin: plugin_name\n  config:\n    # Plugin-specific configuration\n  assertions:\n    # Optional validation\n  save:\n    # Optional variable extraction\n  retry:\n    # Optional retry policy\n</code></pre>"},{"location":"plugins/#common-features","title":"Common Features","text":"<p>All plugins support:</p> <ul> <li>Variables: Use <code>{{ .env.VAR }}</code>, <code>{{ .vars.name }}</code>, and <code>{{ runtime_var }}</code></li> <li>Assertions: Validate responses and outputs</li> <li>Save: Extract values for use in later steps</li> <li>Retry: Configure automatic retries with backoff</li> </ul>"},{"location":"plugins/#plugin-selection-guide","title":"Plugin Selection Guide","text":"Use Case Recommended Plugin Alternative REST API testing HTTP - Database CRUD SQL Supabase Supabase full-stack Supabase SQL + HTTP AI browser testing Agent Browser Use Deterministic browser Playwright - Data processing Script - Debugging/logging Log - Timing control Delay Retry policies"},{"location":"plugins/#see-also","title":"See Also","text":"<ul> <li>Features - Variables, lifecycle hooks, retry policies</li> <li>Command Reference - CLI commands</li> </ul>"},{"location":"plugins/agent/","title":"Agent Plugin","text":"<p>AI-powered testing using Claude for browser control, verification, and multi-step workflows.</p>"},{"location":"plugins/agent/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Verify login page\"\n  plugin: agent\n  config:\n    prompt: |\n      Navigate to {{ .env.FRONTEND_URL }}/login and verify:\n      - Login form is visible\n      - Email and password fields exist\n      - Submit button is present\n</code></pre>"},{"location":"plugins/agent/#prerequisites","title":"Prerequisites","text":"<pre><code># Set Anthropic API key\nexport ANTHROPIC_API_KEY=sk-ant-your-key-here\n</code></pre>"},{"location":"plugins/agent/#configuration","title":"Configuration","text":""},{"location":"plugins/agent/#required-fields","title":"Required Fields","text":"Field Description Example <code>prompt</code> Natural language task for Claude <code>\"Click login button and verify redirect\"</code>"},{"location":"plugins/agent/#optional-fields","title":"Optional Fields","text":"Field Description Default <code>max_turns</code> Max agent loop iterations unlimited <code>timeout</code> Max execution time unlimited"},{"location":"plugins/agent/#common-use-cases","title":"Common Use Cases","text":""},{"location":"plugins/agent/#login-flow","title":"Login Flow","text":"<pre><code>- name: \"Complete login\"\n  plugin: agent\n  config:\n    prompt: |\n      Navigate to {{ .env.FRONTEND_URL }}/login and login with:\n      - Email: {{ .env.TEST_EMAIL }}\n      - Password: {{ .env.TEST_PASSWORD }}\n\n      Verify you land on the dashboard page.\n    timeout: \"2m\"\n</code></pre>"},{"location":"plugins/agent/#multi-step-workflows","title":"Multi-Step Workflows","text":"<pre><code>- name: \"Complete checkout\"\n  plugin: agent\n  config:\n    prompt: |\n      Complete a checkout flow:\n      1. Add product ID {{ product_id }} to cart\n      2. Navigate to cart\n      3. Click checkout\n      4. Fill shipping form with test data\n      5. Verify order summary shows {{ product_id }}\n    max_turns: 15\n    timeout: \"3m\"\n  save:\n    - json_path: \".result\"\n      as: \"checkout_result\"\n</code></pre>"},{"location":"plugins/agent/#data-extraction","title":"Data Extraction","text":"<pre><code>- name: \"Extract pricing\"\n  plugin: agent\n  config:\n    prompt: |\n      Go to /pricing and extract all plan names and prices.\n      Return as JSON: [{\"name\": \"...\", \"price\": \"...\"}]\n  save:\n    - json_path: \".result\"\n      as: \"pricing_plans\"\n</code></pre>"},{"location":"plugins/agent/#combining-with-database","title":"Combining with Database","text":"<pre><code>- name: \"Get expected count from database\"\n  plugin: supabase\n  config:\n    operation: \"select\"\n    table: \"vehicles\"\n    select:\n      columns: [\"id\"]\n  save:\n    - json_path: \". | length\"\n      as: \"vehicle_count\"\n\n- name: \"Verify UI matches database\"\n  plugin: agent\n  config:\n    prompt: |\n      Navigate to /fleet and verify:\n      - Map displays {{ vehicle_count }} vehicle markers\n      - Vehicle cards show {{ vehicle_count }} vehicles\n</code></pre>"},{"location":"plugins/agent/#complete-example","title":"Complete Example","text":"<pre><code>name: \"Login Test\"\ntests:\n  - name: \"Agent-powered login flow\"\n    steps:\n      - name: \"Login and verify\"\n        plugin: agent\n        config:\n          prompt: |\n            1. Navigate to {{ .env.FRONTEND_URL }}/login\n            2. Fill email: {{ .env.TEST_EMAIL }}\n            3. Fill password: {{ .env.TEST_PASSWORD }}\n            4. Click login button\n            5. Verify you're on the dashboard page\n          max_turns: 10\n          timeout: \"2m\"\n</code></pre>"},{"location":"plugins/agent/#best-practices","title":"Best Practices","text":"<ul> <li>Be specific: <code>\"Click 'Add to Cart' for product 123\"</code> not <code>\"Add something\"</code></li> <li>Set timeouts: 30s (simple), 2m (multi-step), 5m (complex)</li> <li>Use variables: Pass dynamic data via <code>{{ variable_name }}</code></li> <li>Handle dynamic content: <code>\"Wait for spinner to disappear, then verify...\"</code></li> <li>Clear prompts: Break complex tasks into numbered steps</li> </ul>"},{"location":"plugins/agent/#troubleshooting","title":"Troubleshooting","text":"Issue Solution Agent timeout Increase <code>timeout</code> or reduce task complexity Task fails Simplify prompt, add more specific instructions Connection errors Verify ANTHROPIC_API_KEY is set"},{"location":"plugins/agent/#see-also","title":"See Also","text":"<ul> <li>Playwright Plugin - Deterministic browser automation</li> <li>Browser Use Plugin - Alternative AI browser automation</li> <li>Variables - Passing data to agent prompts</li> </ul>"},{"location":"plugins/browser-use/","title":"Browser Use Plugin","text":"<p>Poor Performance - Use Agent Plugin Instead</p> <p>The Browser Use plugin has poor performance and is not recommended. Use the Agent plugin with browser capability instead for better performance and reliability.</p> <p>AI-driven browser automation using natural language tasks with GPT-4o or Claude.</p>"},{"location":"plugins/browser-use/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Verify page content\"\n  plugin: browser_use\n  config:\n    task: \"Verify the page has a heading 'Example Domain'\"\n    max_steps: 3\n    use_vision: true\n    llm:\n      provider: \"openai\"\n      model: \"gpt-4o\"\n</code></pre>"},{"location":"plugins/browser-use/#prerequisites","title":"Prerequisites","text":"<pre><code># Install dependencies\npip install playwright browser-use langchain-openai langchain-anthropic\nplaywright install chromium\n\n# Set API key\nexport OPENAI_API_KEY=sk-your-key-here\n# or\nexport ANTHROPIC_API_KEY=sk-ant-your-key-here\n</code></pre>"},{"location":"plugins/browser-use/#configuration","title":"Configuration","text":""},{"location":"plugins/browser-use/#required-fields","title":"Required Fields","text":"Field Description Example <code>task</code> Natural language task <code>\"Click login button and verify redirect\"</code> <code>llm.provider</code> LLM provider <code>\"openai\"</code> or <code>\"anthropic\"</code>"},{"location":"plugins/browser-use/#optional-fields","title":"Optional Fields","text":"Field Description Default <code>max_steps</code> Maximum agent steps <code>10</code> <code>use_vision</code> Enable vision capabilities <code>false</code> <code>timeout</code> Task execution timeout <code>5m</code> <code>llm.model</code> LLM model name <code>gpt-4o</code> (OpenAI) <code>llm.config</code> LLM configuration (API keys) Auto-detected from env"},{"location":"plugins/browser-use/#llm-configuration","title":"LLM Configuration","text":""},{"location":"plugins/browser-use/#openai","title":"OpenAI","text":"<pre><code>llm:\n  provider: \"openai\"\n  model: \"gpt-4o\"\n  config:\n    OPENAI_API_KEY: \"{{ .env.OPENAI_API_KEY }}\"\n</code></pre> <p>Or auto-detect from environment:</p> <pre><code>export OPENAI_API_KEY=sk-your-key-here\n</code></pre> <pre><code>llm:\n  provider: \"openai\" # Automatically uses OPENAI_API_KEY from env\n</code></pre>"},{"location":"plugins/browser-use/#anthropic","title":"Anthropic","text":"<pre><code>llm:\n  provider: \"anthropic\"\n  config:\n    ANTHROPIC_API_KEY: \"{{ .env.ANTHROPIC_API_KEY }}\"\n</code></pre>"},{"location":"plugins/browser-use/#common-patterns","title":"Common Patterns","text":""},{"location":"plugins/browser-use/#login-flow","title":"Login Flow","text":"<pre><code>- name: \"Complete login\"\n  plugin: browser_use\n  config:\n    task: |\n      Navigate to {{ .env.FRONTEND_URL }}/login and:\n      - Fill email: {{ .env.TEST_EMAIL }}\n      - Fill password: {{ .env.TEST_PASSWORD }}\n      - Click login\n      - Verify dashboard appears\n    max_steps: 5\n    llm:\n      provider: \"openai\"\n</code></pre>"},{"location":"plugins/browser-use/#data-extraction","title":"Data Extraction","text":"<pre><code>- name: \"Extract pricing\"\n  plugin: browser_use\n  config:\n    task: \"Extract all plan names and monthly prices\"\n    use_vision: true\n    max_steps: 3\n    llm:\n      provider: \"openai\"\n      model: \"gpt-4o\"\n  save:\n    - json_path: \".result\"\n      as: \"pricing_data\"\n</code></pre>"},{"location":"plugins/browser-use/#form-validation","title":"Form Validation","text":"<pre><code>- name: \"Verify success message\"\n  plugin: browser_use\n  config:\n    task: \"Check if success message appears after form submission\"\n    max_steps: 2\n    llm:\n      provider: \"openai\"\n</code></pre>"},{"location":"plugins/browser-use/#combining-with-other-plugins","title":"Combining with Other Plugins","text":""},{"location":"plugins/browser-use/#with-playwright","title":"With Playwright","text":"<pre><code>- name: \"Navigate with Playwright\"\n  plugin: playwright\n  config:\n    script: |\n      page.goto(\"https://example.com\")\n      page.fill(\"#api-key\", \"test-key-123\")\n\n- name: \"Verify with AI\"\n  plugin: browser_use\n  config:\n    task: \"Verify the API key field shows 'test-key-123'\"\n</code></pre>"},{"location":"plugins/browser-use/#with-http","title":"With HTTP","text":"<pre><code>- name: \"Get test data from API\"\n  plugin: http\n  config:\n    method: GET\n    url: \"{{ .env.API_URL }}/test-data\"\n  save:\n    - json_path: \".user_email\"\n      as: \"test_email\"\n\n- name: \"Use in browser\"\n  plugin: browser_use\n  config:\n    task: \"Login with email {{ test_email }}\"\n</code></pre>"},{"location":"plugins/browser-use/#response-format","title":"Response Format","text":"<p>browser_use returns structured results:</p> <pre><code>{\n  \"status\": \"pass\",\n  \"message\": \"Task completed successfully\",\n  \"result\": \"Found heading 'Example Domain'\"\n}\n</code></pre>"},{"location":"plugins/browser-use/#vision-mode","title":"Vision Mode","text":"<p>Enable for visual elements like charts, images, or complex layouts:</p> <pre><code>use_vision: true\n</code></pre>"},{"location":"plugins/browser-use/#best-practices","title":"Best Practices","text":"<ul> <li>Be specific: <code>\"Find product under $50 and add to cart\"</code> not <code>\"Check website\"</code></li> <li>Set max_steps: Limit agent iterations (2-5 steps for most tasks)</li> <li>Use vision selectively: Only enable for visual content (slower, more tokens)</li> <li>Simplify tasks: Keep tasks focused and achievable</li> <li>Combine with playwright: Use playwright for setup, browser_use for verification</li> </ul>"},{"location":"plugins/browser-use/#troubleshooting","title":"Troubleshooting","text":"Issue Solution Timeout errors Increase <code>timeout</code> or reduce <code>max_steps</code> API errors Check API key and quota limits Browser won't start Run <code>playwright install chromium</code> Task fails Simplify the task, add more specific instructions High cost Reduce <code>max_steps</code>, disable <code>use_vision</code> when not needed"},{"location":"plugins/browser-use/#agent-plugin-vs-browser_use","title":"Agent Plugin vs browser_use","text":"Feature browser_use agent (MCP) Model GPT-4o or Claude Claude Sonnet 4.5 Tools Browser only Browser + Files + APIs + Database Architecture Integrated library MCP server protocol Use Case Simple browser automation Complex multi-tool workflows <p>Recommendation: Use the Agent plugin for new projects. It offers better integration, multi-tool support, and Claude Sonnet 4.5's advanced capabilities.</p>"},{"location":"plugins/browser-use/#see-also","title":"See Also","text":"<ul> <li>Agent Plugin - Recommended alternative with Claude Sonnet 4.5</li> <li>Playwright Plugin - Deterministic browser automation</li> <li>Variables - Passing data to tasks</li> </ul>"},{"location":"plugins/delay/","title":"Delay Plugin","text":"<p>Add deterministic pauses between test steps for eventual consistency and background processing.</p>"},{"location":"plugins/delay/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Wait for processing\"\n  plugin: delay\n  config:\n    duration: \"2s\"\n</code></pre>"},{"location":"plugins/delay/#configuration","title":"Configuration","text":"Field Description Example <code>duration</code> Wait duration <code>500ms</code>, <code>2s</code>, <code>1m</code>, <code>5m</code>"},{"location":"plugins/delay/#common-use-cases","title":"Common Use Cases","text":"<pre><code># After creating resources\n- name: \"Create user\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.api_url }}/users\"\n\n- name: \"Wait for indexing\"\n  plugin: delay\n  config:\n    duration: \"2s\"\n\n# Between API calls\n- name: \"Create item 1\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.api_url }}/items\"\n\n- name: \"Wait for system processing\"\n  plugin: delay\n  config:\n    duration: \"1s\"\n\n- name: \"Create item 2\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.api_url }}/items\"\n</code></pre>"},{"location":"plugins/delay/#best-practices","title":"Best Practices","text":"<ul> <li>Use shortest effective duration: Start with shorter delays and increase if needed</li> <li>Descriptive names: Explain why the delay is needed (<code>\"Wait for search index\"</code>)</li> <li>Consider alternatives: Use retry policies for non-deterministic operations</li> </ul>"},{"location":"plugins/delay/#see-also","title":"See Also","text":"<ul> <li>Retry Policies - Better alternative for flaky operations</li> </ul>"},{"location":"plugins/http/","title":"HTTP Plugin","text":"<p>Test web APIs (like REST services) by sending HTTP requests and checking the responses. The HTTP plugin lets you: - Send requests (GET, POST, PUT, DELETE, etc.) - Include headers and request bodies - Validate responses automatically - Chain requests together (use data from one request in the next) - Validate against OpenAPI specifications</p>"},{"location":"plugins/http/#quick-start","title":"Quick Start","text":"<pre><code>tests:\n  - name: \"Create user\"\n    steps:\n      - name: \"POST request\"\n        plugin: http\n        config:\n          method: POST\n          url: \"https://api.example.com/users\"\n          headers:\n            Content-Type: \"application/json\"\n          body: |\n            {\n              \"name\": \"Test User\",\n              \"email\": \"test@example.com\"\n            }\n        assertions:\n          - type: status_code\n            expected: 201\n        save:\n          - json_path: \".id\"\n            as: \"user_id\"\n</code></pre>"},{"location":"plugins/http/#configuration","title":"Configuration","text":""},{"location":"plugins/http/#required-fields","title":"Required Fields","text":"Field Description Example <code>method</code> HTTP method <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>PATCH</code> <code>url</code> Request URL <code>https://api.example.com/users</code>"},{"location":"plugins/http/#optional-fields","title":"Optional Fields","text":"Field Description Example <code>headers</code> HTTP headers <code>{\"Authorization\": \"Bearer token\"}</code> <code>body</code> Request body (string) <code>{\"key\": \"value\"}</code> <code>form</code> URL-encoded form data <code>{\"username\": \"test\"}</code> <code>openapi</code> OpenAPI validation config See OpenAPI Validation"},{"location":"plugins/http/#request-chaining","title":"Request Chaining","text":"<p>One of the most powerful features: pass data between requests. </p> <p>Example scenario:  1. Create a new user (the API returns a user ID) 2. Use that ID to fetch the user's details 3. Update the user's information</p> <p>Each step can save values from the response and use them in the next step:</p> <pre><code>steps:\n  # Step 1: Create resource\n  - name: \"Create car\"\n    plugin: http\n    config:\n      method: POST\n      url: \"https://api.example.com/cars\"\n      body: |\n        {\n          \"make\": \"Toyota\",\n          \"model\": \"Corolla\"\n        }\n    save:\n      - json_path: \".id\"\n        as: \"car_id\"\n      - header: \"server\"\n        as: \"server_info\"\n\n  # Step 2: Use saved values\n  - name: \"Get car\"\n    plugin: http\n    config:\n      method: GET\n      url: \"https://api.example.com/cars/{{ car_id }}\"\n</code></pre>"},{"location":"plugins/http/#assertions","title":"Assertions","text":"<p>Assertions let you automatically check if the response is correct. Instead of manually reading the response, you tell Rocketship what to look for, and it fails the test if expectations aren't met.</p> <p>Types of assertions:</p>"},{"location":"plugins/http/#status-code","title":"Status Code","text":"<pre><code>assertions:\n  - type: status_code\n    expected: 200\n</code></pre>"},{"location":"plugins/http/#json-path","title":"JSON Path","text":"<pre><code>assertions:\n  - type: json_path\n    path: \".user.email\"\n    expected: \"test@example.com\"\n  - type: json_path\n    path: \".items | length\"\n    expected: 3\n</code></pre>"},{"location":"plugins/http/#headers","title":"Headers","text":"<pre><code>assertions:\n  - type: header\n    name: \"content-type\"\n    expected: \"application/json\"\n</code></pre>"},{"location":"plugins/http/#save-fields","title":"Save Fields","text":"<p>Extract values from responses for use in later steps:</p>"},{"location":"plugins/http/#from-json-response","title":"From JSON Response","text":"<pre><code>save:\n  - json_path: \".id\"\n    as: \"resource_id\"\n  - json_path: \".data.token\"\n    as: \"auth_token\"\n</code></pre>"},{"location":"plugins/http/#from-headers","title":"From Headers","text":"<pre><code>save:\n  - header: \"x-request-id\"\n    as: \"request_id\"\n  - header: \"content-type\"\n    as: \"response_type\"\n</code></pre>"},{"location":"plugins/http/#openapi-validation","title":"OpenAPI Validation","text":"<p>Validate requests and responses against OpenAPI v3 contracts.</p>"},{"location":"plugins/http/#suite-level-configuration","title":"Suite-Level Configuration","text":"<p>Apply OpenAPI validation to all HTTP steps:</p> <pre><code>openapi:\n  spec: \"./contracts/api.yaml\"  # Local file or HTTP(S) URL\n  cache_ttl: \"30m\"              # Contract cache duration\n  validate_request: true        # Validate outgoing requests\n  validate_response: true       # Validate incoming responses\n\ntests:\n  - name: \"API test\"\n    steps:\n      - plugin: http\n        config:\n          method: POST\n          url: \"https://api.example.com/users\"\n          body: '{\"name\": \"Test\"}'\n        # Inherits suite-level OpenAPI validation\n</code></pre>"},{"location":"plugins/http/#step-level-overrides","title":"Step-Level Overrides","text":"<p>Override validation for specific steps:</p> <pre><code>- name: \"Test malformed payload\"\n  plugin: http\n  config:\n    method: POST\n    url: \"https://api.example.com/users\"\n    body: '{\"invalid\": \"data\"}'\n    openapi:\n      validate_request: false  # Skip request validation for this step\n</code></pre>"},{"location":"plugins/http/#openapi-options","title":"OpenAPI Options","text":"Field Description Example <code>spec</code> Path or URL to OpenAPI document <code>./api.yaml</code> or <code>https://api.example.com/spec</code> <code>cache_ttl</code> Contract cache duration <code>30m</code> (default) <code>version</code> Version identifier to force cache refresh <code>\"2024-03-15\"</code> <code>validate_request</code> Enable request validation <code>true</code> <code>validate_response</code> Enable response validation <code>true</code> <code>operation_id</code> Require specific operation <code>\"createUser\"</code>"},{"location":"plugins/http/#form-data","title":"Form Data","text":"<p>Submit URL-encoded forms:</p> <pre><code>- name: \"Login form\"\n  plugin: http\n  config:\n    method: POST\n    url: \"https://app.example.com/login\"\n    form:\n      username: \"test@example.com\"\n      password: \"testpass\"\n</code></pre> <p>Note: If both <code>form</code> and <code>body</code> are provided, <code>form</code> takes precedence.</p>"},{"location":"plugins/http/#common-patterns","title":"Common Patterns","text":""},{"location":"plugins/http/#authentication","title":"Authentication","text":"<pre><code>steps:\n  - name: \"Login\"\n    plugin: http\n    config:\n      method: POST\n      url: \"{{ .env.API_URL }}/auth/login\"\n      body: |\n        {\n          \"email\": \"{{ .env.TEST_EMAIL }}\",\n          \"password\": \"{{ .env.TEST_PASSWORD }}\"\n        }\n    save:\n      - json_path: \".token\"\n        as: \"auth_token\"\n\n  - name: \"Authenticated request\"\n    plugin: http\n    config:\n      method: GET\n      url: \"{{ .env.API_URL }}/me\"\n      headers:\n        Authorization: \"Bearer {{ auth_token }}\"\n</code></pre>"},{"location":"plugins/http/#query-parameters","title":"Query Parameters","text":"<pre><code>- name: \"Search with filters\"\n  plugin: http\n  config:\n    method: GET\n    url: \"{{ .vars.api_url }}/search?q=test&amp;limit=10&amp;offset=0\"\n</code></pre>"},{"location":"plugins/http/#see-also","title":"See Also","text":"<ul> <li>Variables - Using environment, config, and runtime variables</li> <li>Retry Policies - Retrying failed HTTP requests</li> </ul>"},{"location":"plugins/log/","title":"Log Plugin","text":"<p>Output custom messages during test execution for debugging and progress tracking.</p>"},{"location":"plugins/log/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Log message\"\n  plugin: log\n  config:\n    message: \"Starting test execution\"\n</code></pre>"},{"location":"plugins/log/#configuration","title":"Configuration","text":"Field Description Example <code>message</code> Message to log (supports variables) <code>\"Processing user {{ user_id }}\"</code>"},{"location":"plugins/log/#using-variables","title":"Using Variables","text":"<pre><code># Runtime variables\n- name: \"Create user\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .vars.api_url }}/users\"\n  save:\n    - json_path: \".id\"\n      as: \"user_id\"\n\n- name: \"Log user ID\"\n  plugin: log\n  config:\n    message: \"Created user with ID: {{ user_id }}\"\n\n# Config variables\n- plugin: log\n  config:\n    message: \"Running tests in {{ .vars.environment }} environment\"\n\n# Environment variables\n- plugin: log\n  config:\n    message: \"Test running on {{ .env.HOSTNAME }}\"\n</code></pre>"},{"location":"plugins/log/#common-use-cases","title":"Common Use Cases","text":"<pre><code># Progress tracking\n- plugin: log\n  config:\n    message: \"\ud83d\ude80 Starting authentication flow\"\n\n- name: \"Login\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .env.API_URL }}/auth/login\"\n\n- plugin: log\n  config:\n    message: \"\u2705 Authentication completed\"\n\n# Debug information\n- name: \"Query database\"\n  plugin: sql\n  config:\n    driver: postgres\n    dsn: \"{{ .env.DATABASE_URL }}\"\n    commands:\n      - \"SELECT COUNT(*) as count FROM users;\"\n  save:\n    - sql_result: \".queries[0].rows[0].count\"\n      as: \"user_count\"\n\n- plugin: log\n  config:\n    message: \"Found {{ user_count }} users in database\"\n</code></pre>"},{"location":"plugins/log/#best-practices","title":"Best Practices","text":"<ul> <li>Use emojis: Make logs more readable (<code>\ud83d\ude80</code>, <code>\u2705</code>, <code>\u26a0\ufe0f</code>, <code>\u274c</code>)</li> <li>Include context: Add relevant variable values</li> <li>Clear messages: Write descriptive, actionable messages</li> </ul>"},{"location":"plugins/log/#see-also","title":"See Also","text":"<ul> <li>Variables - Using variables in log messages</li> </ul>"},{"location":"plugins/playwright/","title":"Playwright Plugin","text":"<p>Deterministic browser automation using Python scripts for precise DOM manipulation and fast assertions.</p>"},{"location":"plugins/playwright/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Navigate and verify\"\n  plugin: playwright\n  config:\n    role: script\n    script: |\n      from playwright.sync_api import expect\n\n      page.goto(\"https://example.com\")\n      expect(page).to_have_url(\"https://example.com/\")\n      expect(page.locator(\"h1\")).to_have_text(\"Example Domain\")\n\n      result = {\"title\": page.title()}\n</code></pre>"},{"location":"plugins/playwright/#configuration","title":"Configuration","text":"Field Description Example <code>role</code> Must be <code>script</code> <code>script</code> <code>script</code> Python Playwright code See examples below <code>env</code> Environment variables for script <code>{\"KEY\": \"value\"}</code> <p>Note: Browser session management and <code>session_id</code> are handled automatically - just specify <code>role: script</code> and your script.</p>"},{"location":"plugins/playwright/#common-patterns","title":"Common Patterns","text":""},{"location":"plugins/playwright/#navigation-interaction","title":"Navigation &amp; Interaction","text":"<pre><code># Navigate\npage.goto(\"https://example.com\")\npage.wait_for_load_state(\"networkidle\")\n\n# Click &amp; fill\npage.click(\"button#submit\")\npage.fill(\"input[name='email']\", \"test@example.com\")\npage.select_option(\"select#country\", \"US\")\n\n# Wait for elements\npage.wait_for_selector(\"#content\")\n</code></pre>"},{"location":"plugins/playwright/#assertions","title":"Assertions","text":"<pre><code>from playwright.sync_api import expect\n\n# Page assertions\nexpect(page).to_have_url(\"https://example.com/\")\nexpect(page).to_have_title(\"Example Domain\")\n\n# Element assertions\nexpect(page.locator(\"h1\")).to_have_text(\"Welcome\")\nexpect(page.locator(\"#login\")).to_be_visible()\nexpect(page.locator(\".item\")).to_have_count(5)\n</code></pre>"},{"location":"plugins/playwright/#saving-data","title":"Saving Data","text":"<pre><code># Save to Rocketship state\nresult = {\n  \"title\": page.title(),\n  \"url\": page.url,\n  \"user_id\": page.locator(\"#user-id\").inner_text()\n}\n</code></pre> <pre><code>save:\n  - json_path: \".user_id\"\n    as: \"user_id\"\n</code></pre>"},{"location":"plugins/playwright/#complete-example","title":"Complete Example","text":"<pre><code>- name: \"Login flow\"\n  plugin: playwright\n  config:\n    env:\n      TEST_EMAIL: \"{{ .env.TEST_EMAIL }}\"\n      TEST_PASSWORD: \"{{ .env.TEST_PASSWORD }}\"\n    script: |\n      import os\n      from playwright.sync_api import expect\n\n      page.goto(\"https://app.example.com/login\")\n      page.fill(\"input[name='email']\", os.environ[\"TEST_EMAIL\"])\n      page.fill(\"input[name='password']\", os.environ[\"TEST_PASSWORD\"])\n      page.click(\"button[type='submit']\")\n\n      expect(page).to_have_url(\"https://app.example.com/dashboard\")\n</code></pre>"},{"location":"plugins/playwright/#combining-with-other-plugins","title":"Combining with Other Plugins","text":"<pre><code># Get auth token from API\n- name: \"Get token\"\n  plugin: http\n  config:\n    method: POST\n    url: \"{{ .env.API_URL }}/auth/token\"\n  save:\n    - json_path: \".token\"\n      as: \"auth_token\"\n\n# Use in browser\n- name: \"Set token\"\n  plugin: playwright\n  config:\n    env:\n      AUTH_TOKEN: \"{{ auth_token }}\"\n    script: |\n      import os\n      page.goto(\"https://app.example.com\")\n      page.evaluate(f\"localStorage.setItem('token', '{os.environ['AUTH_TOKEN']}')\")\n      page.reload()\n</code></pre>"},{"location":"plugins/playwright/#best-practices","title":"Best Practices","text":"<ul> <li>Use specific selectors: Prefer IDs and data attributes over classes</li> <li>Wait for elements: Use <code>wait_for_selector</code> for dynamic content</li> <li>Use expect: Playwright's expect provides automatic retries</li> <li>Pass secrets via env: Never hardcode credentials in scripts</li> </ul>"},{"location":"plugins/playwright/#troubleshooting","title":"Troubleshooting","text":"Issue Solution Browser won't start Run <code>playwright install chromium</code> Element not found Add <code>wait_for_selector</code> before interacting Timeout errors Increase timeout in wait methods Flaky tests Use <code>expect</code> assertions with built-in retries"},{"location":"plugins/playwright/#see-also","title":"See Also","text":"<ul> <li>Agent Plugin - AI-powered browser testing</li> <li>Browser Use Plugin - AI-driven browser automation</li> <li>Variables - Using environment variables</li> </ul>"},{"location":"plugins/script/","title":"Script Plugin","text":"<p>Execute custom JavaScript or shell scripts for data processing, validation, and system operations.</p>"},{"location":"plugins/script/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Process data\"\n  plugin: script\n  config:\n    language: javascript\n    script: |\n      let userName = state.user_name.toUpperCase();\n      save(\"display_name\", userName);\n      assert(userName.length &gt; 0, \"Name required\");\n</code></pre>"},{"location":"plugins/script/#configuration","title":"Configuration","text":"Field Description Example <code>language</code> Script language <code>javascript</code>, <code>shell</code> <code>script</code> Inline script content See examples below <code>file</code> Path to external script file <code>./scripts/process.js</code> <code>timeout</code> Execution timeout <code>30s</code> (default: 2m) <p>Note: Must provide either <code>script</code> or <code>file</code>, not both.</p>"},{"location":"plugins/script/#javascript","title":"JavaScript","text":""},{"location":"plugins/script/#built-in-functions","title":"Built-in Functions","text":"<pre><code>// Save data for later steps\nsave(\"key\", \"value\");\n\n// Validate data (fails test if false)\nassert(condition, \"Error message\");\n</code></pre>"},{"location":"plugins/script/#accessing-data","title":"Accessing Data","text":"<pre><code>// Config variables\nlet apiUrl = vars.api_url;\n\n// Runtime variables (from previous steps)\nlet userId = state.user_id;\n\n// Type conversions (state values are strings)\nlet count = parseInt(state.count);\nlet price = parseFloat(state.price);\nlet isActive = state.active === \"true\";\n</code></pre>"},{"location":"plugins/script/#common-patterns","title":"Common Patterns","text":"<pre><code># Data transformation\n- name: \"Process response\"\n  plugin: script\n  config:\n    language: javascript\n    script: |\n      let name = state.user_name.toUpperCase();\n      let age = parseInt(state.user_age);\n      save(\"display_name\", name);\n      save(\"is_adult\", (age &gt;= 18).toString());\n\n# Validation\n- name: \"Validate order\"\n  plugin: script\n  config:\n    language: javascript\n    script: |\n      let total = parseFloat(state.order_total);\n      assert(total &gt; 0, \"Total must be positive\");\n\n# Generate test data\n- name: \"Create unique data\"\n  plugin: script\n  config:\n    language: javascript\n    script: |\n      const suffix = Date.now();\n      save(\"test_email\", `test-${suffix}@example.com`);\n</code></pre>"},{"location":"plugins/script/#shell","title":"Shell","text":""},{"location":"plugins/script/#common-patterns_1","title":"Common Patterns","text":"<pre><code># Build operations\n- name: \"Build app\"\n  plugin: script\n  config:\n    language: shell\n    script: |\n      set -euo pipefail\n      npm install\n      npm run build\n\n# File operations\n- name: \"Create package\"\n  plugin: script\n  config:\n    language: shell\n    script: |\n      tar -czf \"{{ .vars.project }}-{{ .vars.version }}.tar.gz\" dist/\n\n# Docker operations\n- name: \"Deploy container\"\n  plugin: script\n  config:\n    language: shell\n    timeout: \"5m\"\n    script: |\n      set -euo pipefail\n      docker build -t myapp:{{ .vars.version }} .\n      docker run -d myapp:{{ .vars.version }}\n</code></pre>"},{"location":"plugins/script/#variable-access","title":"Variable Access","text":"<p>Shell scripts receive variables as environment variables:</p> <pre><code># Config variables as ROCKETSHIP_VAR_*\necho \"Project: $ROCKETSHIP_VAR_PROJECT_NAME\"\n\n# State variables as ROCKETSHIP_*\necho \"Build ID: $ROCKETSHIP_BUILD_ID\"\n</code></pre> <p>Or use template syntax:</p> <pre><code>script: |\n  echo \"Building {{ .vars.project }} version {{ .vars.version }}\"\n</code></pre>"},{"location":"plugins/script/#best-practices","title":"Best Practices","text":""},{"location":"plugins/script/#javascript_1","title":"JavaScript","text":"<ul> <li>Keep scripts focused: Use for data processing, not HTTP operations</li> <li>External files for complexity: Use <code>file</code> for scripts &gt; 20 lines</li> <li>Clear error messages: Write descriptive assertion messages</li> <li>Type conversions: Remember state values are always strings</li> </ul>"},{"location":"plugins/script/#shell_1","title":"Shell","text":"<ul> <li>Use <code>set -euo pipefail</code>: Exit on errors, undefined vars, pipe failures</li> <li>Quote variables: Handle spaces with <code>\"{{ .vars.name }}\"</code></li> <li>Clean up: Use trap functions for cleanup on exit/error</li> </ul>"},{"location":"plugins/script/#see-also","title":"See Also","text":"<ul> <li>Variables - Accessing config and runtime variables</li> <li>HTTP Plugin - Making API calls</li> <li>SQL Plugin - Database operations</li> </ul>"},{"location":"plugins/sql/","title":"SQL Plugin","text":"<p>Execute SQL queries and validate database state in your tests.</p>"},{"location":"plugins/sql/#supported-databases","title":"Supported Databases","text":"Database Driver DSN Format PostgreSQL <code>postgres</code> <code>postgres://user:pass@host:port/db?sslmode=disable</code> MySQL <code>mysql</code> <code>user:pass@tcp(host:port)/db</code> SQLite <code>sqlite</code> <code>./path/to/database.db</code> SQL Server <code>sqlserver</code> <code>sqlserver://user:pass@host:port?database=db</code>"},{"location":"plugins/sql/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Query database\"\n  plugin: sql\n  config:\n    driver: postgres\n    dsn: \"{{ .env.DATABASE_URL }}\"\n    commands:\n      - \"SELECT id, name FROM users WHERE active = true;\"\n  assertions:\n    - type: row_count\n      query_index: 0\n      expected: 5\n  save:\n    - sql_result: \".queries[0].rows[0].id\"\n      as: \"user_id\"\n</code></pre>"},{"location":"plugins/sql/#configuration","title":"Configuration","text":""},{"location":"plugins/sql/#required-fields","title":"Required Fields","text":"Field Description Example <code>driver</code> Database driver <code>postgres</code>, <code>mysql</code>, <code>sqlite</code>, <code>sqlserver</code> <code>dsn</code> Database connection string <code>postgres://user:pass@host:port/db</code>"},{"location":"plugins/sql/#optional-fields","title":"Optional Fields","text":"Field Description Example <code>commands</code> Array of SQL statements <code>[\"SELECT * FROM users;\"]</code> <code>file</code> Path to SQL file <code>./migrations/001_create.sql</code> <code>timeout</code> Query execution timeout <code>60s</code> <p>Note: Must provide either <code>commands</code> or <code>file</code>, not both.</p>"},{"location":"plugins/sql/#assertions","title":"Assertions","text":""},{"location":"plugins/sql/#row-count","title":"Row Count","text":"<p>Validate number of rows returned by a query:</p> <pre><code>assertions:\n  - type: row_count\n    query_index: 0  # Index of the query in commands array\n    expected: 3\n</code></pre>"},{"location":"plugins/sql/#query-count","title":"Query Count","text":"<p>Validate total number of queries executed:</p> <pre><code>assertions:\n  - type: query_count\n    expected: 5\n</code></pre>"},{"location":"plugins/sql/#success-count","title":"Success Count","text":"<p>Validate number of successful queries:</p> <pre><code>assertions:\n  - type: success_count\n    expected: 2\n</code></pre>"},{"location":"plugins/sql/#column-value","title":"Column Value","text":"<p>Validate specific column value:</p> <pre><code>assertions:\n  - type: column_value\n    query_index: 0\n    row_index: 0\n    column: \"status\"\n    expected: \"active\"\n</code></pre>"},{"location":"plugins/sql/#save-fields","title":"Save Fields","text":"<p>Extract values from query results:</p>"},{"location":"plugins/sql/#from-rows","title":"From Rows","text":"<pre><code>save:\n  - sql_result: \".queries[0].rows[0].id\"\n    as: \"user_id\"\n  - sql_result: \".queries[0].rows[1].email\"\n    as: \"user_email\"\n</code></pre>"},{"location":"plugins/sql/#from-statistics","title":"From Statistics","text":"<pre><code>save:\n  - sql_result: \".queries[0].rows_affected\"\n    as: \"affected_count\"\n  - sql_result: \".stats.success_count\"\n    as: \"successful_queries\"\n  - sql_result: \".stats.total_queries\"\n    as: \"total_queries\"\n</code></pre>"},{"location":"plugins/sql/#common-patterns","title":"Common Patterns","text":""},{"location":"plugins/sql/#crud-operations","title":"CRUD Operations","text":"<pre><code>steps:\n  # Create\n  - name: \"Insert user\"\n    plugin: sql\n    config:\n      driver: postgres\n      dsn: \"{{ .env.DATABASE_URL }}\"\n      commands:\n        - \"INSERT INTO users (name, email) VALUES ('Test', 'test@example.com') RETURNING id;\"\n    save:\n      - sql_result: \".queries[0].rows[0].id\"\n        as: \"user_id\"\n\n  # Read\n  - name: \"Query user\"\n    plugin: sql\n    config:\n      driver: postgres\n      dsn: \"{{ .env.DATABASE_URL }}\"\n      commands:\n        - \"SELECT * FROM users WHERE id = {{ user_id }};\"\n    assertions:\n      - type: row_count\n        query_index: 0\n        expected: 1\n\n  # Update\n  - name: \"Update user\"\n    plugin: sql\n    config:\n      driver: postgres\n      dsn: \"{{ .env.DATABASE_URL }}\"\n      commands:\n        - \"UPDATE users SET active = false WHERE id = {{ user_id }};\"\n\n  # Delete\n  - name: \"Delete user\"\n    plugin: sql\n    config:\n      driver: postgres\n      dsn: \"{{ .env.DATABASE_URL }}\"\n      commands:\n        - \"DELETE FROM users WHERE id = {{ user_id }};\"\n</code></pre>"},{"location":"plugins/sql/#multiple-commands","title":"Multiple Commands","text":"<p>Execute multiple SQL statements in one step:</p> <pre><code>- name: \"Setup test data\"\n  plugin: sql\n  config:\n    driver: postgres\n    dsn: \"{{ .env.DATABASE_URL }}\"\n    commands:\n      - \"DELETE FROM test_users WHERE email LIKE '%@test.com';\"\n      - \"INSERT INTO test_users (name, email) VALUES ('User 1', 'user1@test.com');\"\n      - \"INSERT INTO test_users (name, email) VALUES ('User 2', 'user2@test.com');\"\n  assertions:\n    - type: query_count\n      expected: 3\n    - type: success_count\n      expected: 3\n</code></pre>"},{"location":"plugins/sql/#external-sql-files","title":"External SQL Files","text":"<p>Use external SQL files for complex queries or migrations:</p> <pre><code>- name: \"Run migration\"\n  plugin: sql\n  config:\n    driver: postgres\n    dsn: \"{{ .env.DATABASE_URL }}\"\n    file: \"./migrations/001_create_tables.sql\"\n    timeout: \"60s\"\n</code></pre>"},{"location":"plugins/sql/#using-variables","title":"Using Variables","text":"<pre><code>vars:\n  table_name: \"users\"\n  min_age: 18\n\nsteps:\n  - name: \"Dynamic query\"\n    plugin: sql\n    config:\n      driver: postgres\n      dsn: \"{{ .env.DATABASE_URL }}\"\n      commands:\n        - \"SELECT * FROM {{ .vars.table_name }} WHERE age &gt;= {{ .vars.min_age }};\"\n</code></pre>"},{"location":"plugins/sql/#best-practices","title":"Best Practices","text":"<ul> <li>Security: Store DSN in environment variables, never commit credentials</li> <li>Performance: Set appropriate timeouts for long queries</li> <li>Isolation: Clean up test data in cleanup hooks</li> <li>Assertions: Validate both success and error scenarios</li> </ul>"},{"location":"plugins/sql/#see-also","title":"See Also","text":"<ul> <li>Variables - Using environment variables for credentials</li> <li>Lifecycle Hooks - Setting up and tearing down databases</li> </ul>"},{"location":"plugins/supabase/","title":"Supabase Plugin","text":"<p>Test your entire Supabase stack\u2014database, authentication, and storage.</p>"},{"location":"plugins/supabase/#quick-start","title":"Quick Start","text":"<pre><code>- name: \"Query users\"\n  plugin: supabase\n  config:\n    url: \"{{ .env.SUPABASE_URL }}\"\n    key: \"{{ .env.SUPABASE_SERVICE_KEY }}\"\n    operation: \"select\"\n    table: \"users\"\n    select:\n      columns: [\"id\", \"name\", \"email\"]\n      filters:\n        - column: \"status\"\n          operator: \"eq\"\n          value: \"active\"\n</code></pre>"},{"location":"plugins/supabase/#database-operations","title":"Database Operations","text":""},{"location":"plugins/supabase/#select","title":"SELECT","text":"<pre><code>operation: \"select\"\ntable: \"users\"\nselect:\n  columns: [\"id\", \"name\", \"email\"]\n  filters:\n    - column: \"status\"\n      operator: \"eq\"\n      value: \"active\"\n  order:\n    - column: \"created_at\"\n      ascending: false\n  limit: 10\n  offset: 0\n</code></pre>"},{"location":"plugins/supabase/#insert","title":"INSERT","text":"<pre><code>operation: \"insert\"\ntable: \"users\"\ninsert:\n  data:\n    name: \"John Doe\"\n    email: \"john@example.com\"\nsave:\n  - json_path: \".[0].id\"\n    as: \"user_id\"\n</code></pre>"},{"location":"plugins/supabase/#update","title":"UPDATE","text":"<pre><code>operation: \"update\"\ntable: \"users\"\nupdate:\n  data:\n    status: \"verified\"\n  filters:\n    - column: \"id\"\n      operator: \"eq\"\n      value: \"{{ user_id }}\"\n</code></pre>"},{"location":"plugins/supabase/#delete","title":"DELETE","text":"<pre><code>operation: \"delete\"\ntable: \"users\"\ndelete:\n  filters:\n    - column: \"id\"\n      operator: \"eq\"\n      value: \"{{ user_id }}\"\n</code></pre>"},{"location":"plugins/supabase/#filter-operators","title":"Filter Operators","text":"<p><code>eq</code>, <code>neq</code>, <code>gt</code>, <code>gte</code>, <code>lt</code>, <code>lte</code>, <code>like</code>, <code>ilike</code>, <code>is</code>, <code>in</code></p> <pre><code>filters:\n  - column: \"status\"\n    operator: \"in\"\n    value: [\"active\", \"premium\"]\n  - column: \"name\"\n    operator: \"ilike\"\n    value: \"%smith%\"\n</code></pre>"},{"location":"plugins/supabase/#rpc-functions","title":"RPC Functions","text":"<pre><code>operation: \"rpc\"\nrpc:\n  function: \"get_user_count\"\n  params:\n    min_age: 18\nsave:\n  - json_path: \".\"\n    as: \"user_count\"\n</code></pre>"},{"location":"plugins/supabase/#authentication","title":"Authentication","text":""},{"location":"plugins/supabase/#sign-up","title":"Sign Up","text":"<pre><code>operation: \"auth_sign_up\"\nauth:\n  email: \"user@example.com\"\n  password: \"SecurePass123!\"\n  user_metadata:\n    name: \"John Doe\"\nsave:\n  - json_path: \".user.id\"\n    as: \"user_id\"\n</code></pre>"},{"location":"plugins/supabase/#sign-in","title":"Sign In","text":"<pre><code>operation: \"auth_sign_in\"\nauth:\n  email: \"{{ test_email }}\"\n  password: \"{{ test_password }}\"\nsave:\n  - json_path: \".session.access_token\"\n    as: \"access_token\"\n</code></pre> <p>Use extracted tokens in HTTP requests:</p> <pre><code>- name: \"Call protected endpoint\"\n  plugin: http\n  config:\n    url: \"{{ .env.API_URL }}/api/profile\"\n    headers:\n      Authorization: \"Bearer {{ access_token }}\"\n</code></pre>"},{"location":"plugins/supabase/#admin-operations-service-role","title":"Admin Operations (Service Role)","text":"<pre><code># Create user with auto-confirmation\noperation: \"auth_create_user\"\nauth:\n  email: \"admin@example.com\"\n  password: \"AdminPass123!\"\n  email_confirm: true\n  user_metadata:\n    role: \"staff\"\n\n# Delete user\noperation: \"auth_delete_user\"\nauth:\n  user_id: \"{{ user_id }}\"\n</code></pre>"},{"location":"plugins/supabase/#storage","title":"Storage","text":""},{"location":"plugins/supabase/#create-bucket","title":"Create Bucket","text":"<pre><code>operation: \"storage_create_bucket\"\nstorage:\n  bucket: \"uploads\"\n  public: true\n</code></pre>"},{"location":"plugins/supabase/#upload-file","title":"Upload File","text":"<pre><code>operation: \"storage_upload\"\nstorage:\n  bucket: \"uploads\"\n  path: \"documents/test.txt\"\n  file_content: \"Test content\"\n  content_type: \"text/plain\"\n</code></pre>"},{"location":"plugins/supabase/#download-file","title":"Download File","text":"<pre><code>operation: \"storage_download\"\nstorage:\n  bucket: \"uploads\"\n  path: \"documents/test.txt\"\n</code></pre>"},{"location":"plugins/supabase/#best-practices","title":"Best Practices","text":"<ul> <li>Credentials: Use environment variables for URL and keys</li> <li>Cleanup: Always delete test data in cleanup hooks</li> <li>Uniqueness: Generate unique emails with timestamps</li> <li>Keys: Use service role key for admin operations, anon key for client operations</li> </ul>"},{"location":"plugins/supabase/#see-also","title":"See Also","text":"<ul> <li>Variables - Managing credentials with environment variables</li> <li>Lifecycle Hooks - Setting up and cleaning up test data</li> </ul>"},{"location":"plugins/browser/persistent-sessions/","title":"Persistent Browser Sessions with Playwright + browser-use","text":"<p>Rocketship splits browser testing across two plugins that share a single Chromium session via Chrome DevTools Protocol (CDP):</p> <ul> <li><code>playwright</code> launches Chromium, records its CDP websocket, and runs deterministic Python scripts.</li> <li><code>browser_use</code> attaches to the same websocket and executes one concise, agentic task.</li> </ul>"},{"location":"plugins/browser/persistent-sessions/#session-files","title":"Session Files","text":"<p><code>playwright.start</code> spawns Chromium with <code>--remote-debugging-port=0</code>, then writes <code>${ROCKETSHIP_RUN_DIR:-.rocketship}/tmp/browser_sessions/&lt;session_id&gt;.json</code>:</p> <pre><code>{\n  \"wsEndpoint\": \"ws://127.0.0.1:45373/devtools/browser/6ce7...\",\n  \"pid\": 53210,\n  \"createdAt\": \"2025-01-15T16:39:12Z\"\n}\n</code></pre> <p>The PID is the Chromium process. <code>playwright.stop</code> terminates it (SIGTERM on Unix, Kill on Windows) and removes the JSON file. A per-session profile directory is kept under <code>tmp/browser_sessions/&lt;session_id&gt;/profile</code> so cookies and storage survive across steps.</p>"},{"location":"plugins/browser/persistent-sessions/#lifecycle","title":"Lifecycle","text":"<ol> <li>Start \u2013 <code>playwright.start</code> launches Chromium (headless by default), records <code>wsEndpoint</code>, and returns immediately.</li> <li>Deterministic scripting \u2013 <code>playwright.script</code> (Python only) reconnects with <code>connect_over_cdp()</code> and runs the provided script. You can inject secrets via <code>config.env</code>.</li> <li>Agentic follow-up \u2013 <code>browser_use</code> opens the same CDP endpoint, runs one short task, and reports extracted context or artifacts.</li> <li>Stop \u2013 <code>playwright.stop</code> kills the stored PID and clears the session file to free the port/profile.</li> </ol> <p>Saves and assertions (<code>json_path</code>) remain available on every step for variable passing and validation.</p>"},{"location":"plugins/browser/persistent-sessions/#example-flow","title":"Example Flow","text":"<p><code>examples/browser/persistent-session/checkout.yaml</code> demonstrates an interleaved run:</p> <pre><code>- name: start browser\n  plugin: playwright\n  config:\n    role: start\n    session_id: \"checkout-{{ .run.id }}\"\n    headless: true\n\n- name: visit landing page\n  plugin: playwright\n  config:\n    role: script\n    session_id: \"checkout-{{ .run.id }}\"\n    language: python\n    script: |\n      page.goto(\"https://example.com\")\n      result = {\"title\": page.title()}\n\n- name: summarize via agent\n  plugin: browser_use\n  config:\n    session_id: \"checkout-{{ .run.id }}\"\n    task: \"Read the page currently open and summarize it in one sentence.\"\n    allowed_domains:\n      - example.com\n    max_steps: 4\n\n- name: stop browser\n  plugin: playwright\n  config:\n    role: stop\n    session_id: \"checkout-{{ .run.id }}\"\n</code></pre>"},{"location":"plugins/browser/persistent-sessions/#tips","title":"Tips","text":"<ul> <li>Keep <code>browser_use</code> prompts short; chain multiple steps for long flows so state persists cleanly.</li> <li>Ensure <code>python3</code>, <code>playwright</code>, and <code>browser-use</code> are installed (<code>pip install playwright browser-use</code> and <code>playwright install chromium</code>).</li> <li>If you encounter \u201csession ... is not active\u201d, confirm the session ID matches exactly and that <code>playwright.start</code> ran earlier in the same test.</li> <li>When debugging locally, set <code>ROCKETSHIP_LOG=DEBUG</code> to watch session creation, script execution, and teardown events.</li> </ul>"},{"location":"reference/rocketship/","title":"Overview","text":""},{"location":"reference/rocketship/#rocketship","title":"rocketship","text":"<p>Rocketship CLI</p>"},{"location":"reference/rocketship/#synopsis","title":"Synopsis","text":"<p>Rocketship is a CLI tool for running automated tests.</p>"},{"location":"reference/rocketship/#options","title":"Options","text":"<pre><code>      --debug   Enable debug logging\n  -h, --help    help for rocketship\n</code></pre>"},{"location":"reference/rocketship/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship doctor  - Diagnose Rocketship CLI environment issues</li> <li>rocketship get    - Get details of a specific test run</li> <li>rocketship list  - List test runs</li> <li>rocketship login    - Authenticate the CLI via OIDC device flow</li> <li>rocketship logout  - Remove stored authentication tokens</li> <li>rocketship profile    - Manage connection profiles</li> <li>rocketship run    - Run rocketship tests</li> <li>rocketship start    - Start rocketship the rocketship server</li> <li>rocketship status  - Show authentication status</li> <li>rocketship stop  - Stop rocketship the rocketship server</li> <li>rocketship validate  - Validate Rocketship test files against the JSON schema</li> <li>rocketship version    - Print the version number of Rocketship</li> </ul>"},{"location":"reference/rocketship/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_doctor/","title":"doctor","text":""},{"location":"reference/rocketship_doctor/#rocketship-doctor","title":"rocketship doctor","text":"<p>Diagnose Rocketship CLI environment issues</p> <pre><code>rocketship doctor [flags]\n</code></pre>"},{"location":"reference/rocketship_doctor/#options","title":"Options","text":"<pre><code>  -h, --help   help for doctor\n</code></pre>"},{"location":"reference/rocketship_doctor/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_doctor/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_doctor/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_get/","title":"get","text":""},{"location":"reference/rocketship_get/#rocketship-get","title":"rocketship get","text":"<p>Get details of a specific test run</p>"},{"location":"reference/rocketship_get/#synopsis","title":"Synopsis","text":"<p>Get detailed information about a specific test run.</p> <p>Examples:   # Get run details   rocketship get abc123def456</p> <p># Get run details with logs   rocketship get abc123def456 --logs</p> <p># Get run details in JSON format   rocketship get abc123def456 --format json</p> <pre><code>rocketship get &lt;run-id&gt; [flags]\n</code></pre>"},{"location":"reference/rocketship_get/#options","title":"Options","text":"<pre><code>  -e, --engine string   Address of the rocketship engine (defaults to active profile)\n      --format string   Output format (table, json, yaml) (default \"table\")\n  -h, --help            help for get\n      --logs            Include logs from the test run\n</code></pre>"},{"location":"reference/rocketship_get/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_get/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_get/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_list/","title":"list","text":""},{"location":"reference/rocketship_list/#rocketship-list","title":"rocketship list","text":"<p>List test runs</p>"},{"location":"reference/rocketship_list/#synopsis","title":"Synopsis","text":"<p>List test runs with filtering and sorting options.</p> <p>Examples:   # List all recent runs   rocketship list</p> <p># List failed runs   rocketship list --status FAILED</p> <p># List runs for a specific project   rocketship list --project-id my-app</p> <p># List runs from a specific branch   rocketship list --branch feature/new-api</p> <p># List runs with custom limit and ordering   rocketship list --limit 50 --order-by duration --ascending</p> <pre><code>rocketship list [flags]\n</code></pre>"},{"location":"reference/rocketship_list/#options","title":"Options","text":"<pre><code>      --ascending              Sort in ascending order (default: descending)\n      --branch string          Filter by git branch\n  -e, --engine string          Address of the rocketship engine (defaults to active profile)\n      --format string          Output format (table, json, yaml) (default \"table\")\n  -h, --help                   help for list\n      --limit int32            Maximum number of runs to display (default 20)\n      --order-by string        Sort by field (started_at, ended_at, duration) (default \"started_at\")\n      --project-id string      Filter by project ID\n      --schedule-name string   Filter by schedule name\n      --source string          Filter by source (cli-local, github-actions, ci-token, scheduler)\n      --status string          Filter by status (PENDING, RUNNING, PASSED, FAILED, TIMEOUT)\n</code></pre>"},{"location":"reference/rocketship_list/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_list/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_list/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_login/","title":"login","text":""},{"location":"reference/rocketship_login/#rocketship-login","title":"rocketship login","text":"<p>Authenticate the CLI via OIDC device flow</p> <pre><code>rocketship login [flags]\n</code></pre>"},{"location":"reference/rocketship_login/#options","title":"Options","text":"<pre><code>  -h, --help             help for login\n  -p, --profile string   Profile to authenticate (defaults to active profile)\n</code></pre>"},{"location":"reference/rocketship_login/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_login/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_login/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_logout/","title":"logout","text":""},{"location":"reference/rocketship_logout/#rocketship-logout","title":"rocketship logout","text":"<p>Remove stored authentication tokens</p> <pre><code>rocketship logout [flags]\n</code></pre>"},{"location":"reference/rocketship_logout/#options","title":"Options","text":"<pre><code>  -h, --help             help for logout\n  -p, --profile string   Profile to clear (defaults to active profile)\n</code></pre>"},{"location":"reference/rocketship_logout/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_logout/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_logout/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile/","title":"Overview","text":""},{"location":"reference/rocketship_profile/#rocketship-profile","title":"rocketship profile","text":"<p>Manage connection profiles</p>"},{"location":"reference/rocketship_profile/#synopsis","title":"Synopsis","text":"<p>Manage connection profiles for different Rocketship environments.</p> <p>Profiles allow you to easily switch between different Rocketship deployments (local, self-hosted, cloud) without having to specify connection details every time you run a command.</p> <p>Examples:   rocketship profile list   rocketship profile create enterprise https://rocketship.company.com   rocketship profile use enterprise   rocketship profile show enterprise</p>"},{"location":"reference/rocketship_profile/#options","title":"Options","text":"<pre><code>  -h, --help   help for profile\n</code></pre>"},{"location":"reference/rocketship_profile/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> <li>rocketship profile create  - Create a new connection profile</li> <li>rocketship profile delete  - Delete a connection profile</li> <li>rocketship profile list  - List all connection profiles</li> <li>rocketship profile show  - Show connection profile details</li> <li>rocketship profile use    - Set the default connection profile</li> </ul>"},{"location":"reference/rocketship_profile/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile_create/","title":"create","text":""},{"location":"reference/rocketship_profile_create/#rocketship-profile-create","title":"rocketship profile create","text":"<p>Create a new connection profile</p>"},{"location":"reference/rocketship_profile_create/#synopsis","title":"Synopsis","text":"<p>Create a new connection profile for a Rocketship deployment.</p> <p>The URL should be the base URL of your Rocketship deployment, e.g.:   https://rocketship.company.com   https://cli.rocketship.globalbank.com</p> <p>TLS settings will be automatically detected from the URL scheme.</p> <p>Examples:   rocketship profile create enterprise https://rocketship.company.com   rocketship profile create staging https://staging.company.com:8443</p> <pre><code>rocketship profile create &lt;name&gt; &lt;url&gt; [flags]\n</code></pre>"},{"location":"reference/rocketship_profile_create/#options","title":"Options","text":"<pre><code>  -h, --help          help for create\n      --port int      Override the port number\n      --team string   Associate profile with a specific team\n</code></pre>"},{"location":"reference/rocketship_profile_create/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile_create/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship profile    - Manage connection profiles</li> </ul>"},{"location":"reference/rocketship_profile_create/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile_delete/","title":"delete","text":""},{"location":"reference/rocketship_profile_delete/#rocketship-profile-delete","title":"rocketship profile delete","text":"<p>Delete a connection profile</p>"},{"location":"reference/rocketship_profile_delete/#synopsis","title":"Synopsis","text":"<p>Delete a connection profile. The local profile cannot be deleted.</p> <pre><code>rocketship profile delete &lt;name&gt; [flags]\n</code></pre>"},{"location":"reference/rocketship_profile_delete/#options","title":"Options","text":"<pre><code>  -h, --help   help for delete\n</code></pre>"},{"location":"reference/rocketship_profile_delete/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile_delete/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship profile    - Manage connection profiles</li> </ul>"},{"location":"reference/rocketship_profile_delete/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile_list/","title":"list","text":""},{"location":"reference/rocketship_profile_list/#rocketship-profile-list","title":"rocketship profile list","text":"<p>List all connection profiles</p>"},{"location":"reference/rocketship_profile_list/#synopsis","title":"Synopsis","text":"<p>List all available connection profiles and show which one is currently active.</p> <pre><code>rocketship profile list [flags]\n</code></pre>"},{"location":"reference/rocketship_profile_list/#options","title":"Options","text":"<pre><code>  -h, --help   help for list\n</code></pre>"},{"location":"reference/rocketship_profile_list/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile_list/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship profile    - Manage connection profiles</li> </ul>"},{"location":"reference/rocketship_profile_list/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile_show/","title":"show","text":""},{"location":"reference/rocketship_profile_show/#rocketship-profile-show","title":"rocketship profile show","text":"<p>Show connection profile details</p>"},{"location":"reference/rocketship_profile_show/#synopsis","title":"Synopsis","text":"<p>Show detailed information about a connection profile. If no name is provided, shows the current active profile.</p> <pre><code>rocketship profile show [name] [flags]\n</code></pre>"},{"location":"reference/rocketship_profile_show/#options","title":"Options","text":"<pre><code>  -h, --help   help for show\n</code></pre>"},{"location":"reference/rocketship_profile_show/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile_show/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship profile    - Manage connection profiles</li> </ul>"},{"location":"reference/rocketship_profile_show/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_profile_use/","title":"use","text":""},{"location":"reference/rocketship_profile_use/#rocketship-profile-use","title":"rocketship profile use","text":"<p>Set the default connection profile</p>"},{"location":"reference/rocketship_profile_use/#synopsis","title":"Synopsis","text":"<p>Set the default connection profile to use for all commands.</p> <pre><code>rocketship profile use &lt;name&gt; [flags]\n</code></pre>"},{"location":"reference/rocketship_profile_use/#options","title":"Options","text":"<pre><code>  -h, --help   help for use\n</code></pre>"},{"location":"reference/rocketship_profile_use/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_profile_use/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship profile    - Manage connection profiles</li> </ul>"},{"location":"reference/rocketship_profile_use/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_run/","title":"run","text":""},{"location":"reference/rocketship_run/#rocketship-run","title":"rocketship run","text":"<p>Run rocketship tests</p>"},{"location":"reference/rocketship_run/#synopsis","title":"Synopsis","text":"<p>Run rocketship tests from YAML files. Can run a single file or all tests in a directory.</p> <pre><code>rocketship run [flags]\n</code></pre>"},{"location":"reference/rocketship_run/#options","title":"Options","text":"<pre><code>  -a, --auto                      Automatically start and stop the local server for test execution\n      --branch string             Git branch name (auto-detected if not specified)\n      --commit string             Git commit SHA (auto-detected if not specified)\n  -d, --dir string                Path to directory containing test files (for .rocketship, runs all YAML test files recursively)\n  -e, --engine string             Address of the rocketship engine (defaults to active profile)\n      --env string                Alias for --environment\n      --env-file string           Load environment variables from .env file\n      --environment string        Project environment slug for secrets and config vars\n  -f, --file string               Path to a Rocketship test file (YAML)\n  -h, --help                      help for run\n      --metadata stringToString   Additional metadata key=value pairs (default [])\n      --project-id string         Project identifier for test run tracking\n      --schedule-name string      Schedule name for scheduled runs\n      --source string             Run source: cli-local, github-actions, ci-token, scheduler\n  -t, --timestamp                 Show timestamps in log output\n      --trigger string            Trigger type: manual, ci, schedule\n  -v, --var stringToString        Set variables (can be used multiple times: --var key=value --var nested.key=value) (default [])\n      --var-file string           Load variables from YAML file\n</code></pre>"},{"location":"reference/rocketship_run/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_run/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_run/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_start/","title":"Overview","text":""},{"location":"reference/rocketship_start/#rocketship-start","title":"rocketship start","text":"<p>Start rocketship the rocketship server</p>"},{"location":"reference/rocketship_start/#synopsis","title":"Synopsis","text":"<p>Start rocketship components like the server.</p>"},{"location":"reference/rocketship_start/#options","title":"Options","text":"<pre><code>  -h, --help   help for start\n</code></pre>"},{"location":"reference/rocketship_start/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_start/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> <li>rocketship start server  - Start the rocketship server</li> </ul>"},{"location":"reference/rocketship_start/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_start_server/","title":"start server","text":""},{"location":"reference/rocketship_start_server/#rocketship-start-server","title":"rocketship start server","text":"<p>Start the rocketship server</p>"},{"location":"reference/rocketship_start_server/#synopsis","title":"Synopsis","text":"<p>Start a local rocketship server.</p> <pre><code>rocketship start server [flags]\n</code></pre>"},{"location":"reference/rocketship_start_server/#options","title":"Options","text":"<pre><code>  -b, --background   Start server in background mode\n  -h, --help         help for server\n</code></pre>"},{"location":"reference/rocketship_start_server/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_start_server/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship start    - Start rocketship the rocketship server</li> </ul>"},{"location":"reference/rocketship_start_server/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_status/","title":"status","text":""},{"location":"reference/rocketship_status/#rocketship-status","title":"rocketship status","text":"<p>Show authentication status</p> <pre><code>rocketship status [flags]\n</code></pre>"},{"location":"reference/rocketship_status/#options","title":"Options","text":"<pre><code>  -h, --help             help for status\n  -p, --profile string   Profile to inspect (defaults to active profile)\n</code></pre>"},{"location":"reference/rocketship_status/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_status/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_status/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_stop/","title":"Overview","text":""},{"location":"reference/rocketship_stop/#rocketship-stop","title":"rocketship stop","text":"<p>Stop rocketship the rocketship server</p>"},{"location":"reference/rocketship_stop/#synopsis","title":"Synopsis","text":"<p>Stop rocketship components like the server.</p>"},{"location":"reference/rocketship_stop/#options","title":"Options","text":"<pre><code>  -h, --help   help for stop\n</code></pre>"},{"location":"reference/rocketship_stop/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_stop/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> <li>rocketship stop server    - Stop the rocketship server</li> </ul>"},{"location":"reference/rocketship_stop/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_stop_server/","title":"stop server","text":""},{"location":"reference/rocketship_stop_server/#rocketship-stop-server","title":"rocketship stop server","text":"<p>Stop the rocketship server</p>"},{"location":"reference/rocketship_stop_server/#synopsis","title":"Synopsis","text":"<p>Stop the rocketship server and all its components.</p> <pre><code>rocketship stop server [flags]\n</code></pre>"},{"location":"reference/rocketship_stop_server/#options","title":"Options","text":"<pre><code>  -h, --help   help for server\n</code></pre>"},{"location":"reference/rocketship_stop_server/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_stop_server/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship stop  - Stop rocketship the rocketship server</li> </ul>"},{"location":"reference/rocketship_stop_server/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_validate/","title":"validate","text":""},{"location":"reference/rocketship_validate/#rocketship-validate","title":"rocketship validate","text":"<p>Validate Rocketship test files against the JSON schema</p>"},{"location":"reference/rocketship_validate/#synopsis","title":"Synopsis","text":"<p>Validate one or more Rocketship test files against the JSON schema. This command checks test file syntax, structure, and configuration without executing tests.</p> <p>When validating a directory, Rocketship uses the same discovery logic as the run command: - For a .rocketship directory, all *.yaml test files are validated (excluding .rocketship/tmp/) - For other directories, only files named \"rocketship.yaml\" are validated</p> <p>Examples:   rocketship validate rocketship.yaml              # Validate a single file   rocketship validate .rocketship                  # Validate all YAML test files in .rocketship   rocketship validate ./tests/                     # Validate all rocketship.yaml files in directory   rocketship validate test1.yaml test2.yaml        # Validate multiple files</p> <pre><code>rocketship validate [file_or_directory] [flags]\n</code></pre>"},{"location":"reference/rocketship_validate/#options","title":"Options","text":"<pre><code>  -h, --help   help for validate\n</code></pre>"},{"location":"reference/rocketship_validate/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_validate/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_validate/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"reference/rocketship_version/","title":"version","text":""},{"location":"reference/rocketship_version/#rocketship-version","title":"rocketship version","text":"<p>Print the version number of Rocketship</p>"},{"location":"reference/rocketship_version/#synopsis","title":"Synopsis","text":"<p>Print the version number of Rocketship CLI.</p> <pre><code>rocketship version [flags]\n</code></pre>"},{"location":"reference/rocketship_version/#options","title":"Options","text":"<pre><code>  -h, --help   help for version\n</code></pre>"},{"location":"reference/rocketship_version/#options-inherited-from-parent-commands","title":"Options inherited from parent commands","text":"<pre><code>      --debug   Enable debug logging\n</code></pre>"},{"location":"reference/rocketship_version/#see-also","title":"SEE ALSO","text":"<ul> <li>rocketship    - Rocketship CLI</li> </ul>"},{"location":"reference/rocketship_version/#auto-generated-by-spf13cobra-on-10-jan-2026","title":"Auto generated by spf13/cobra on 10-Jan-2026","text":""},{"location":"yaml-reference/lifecycle-hooks/","title":"Lifecycle Hooks","text":"<p>Rocketship test suites can run deterministic setup and teardown hooks at both the suite and test levels. Hooks reuse the same step schema you already know (<code>name</code>, <code>plugin</code>, <code>config</code>, <code>assertions</code>, <code>save</code>, <code>retry</code>) and execute linearly in the order they are declared.</p>"},{"location":"yaml-reference/lifecycle-hooks/#suite-lifecycle","title":"Suite Lifecycle","text":"<pre><code>name: \"Checkout Suite\"\ninit:\n  - name: \"Boot ephemeral stack\"\n    plugin: script\n    config: { cmd: \"./env/up.sh\" }\ntests:\n  - name: \"Happy path checkout\"\n    steps: [...]\ncleanup:\n  always:\n    - name: \"Shutdown stack\"\n      plugin: script\n      config: { cmd: \"./env/down.sh\" }\n  on_failure:\n    - name: \"Collect logs\"\n      plugin: http\n      config:\n        method: GET\n        url: \"https://ops.example.com/logs?run={{ run_id }}\"\n</code></pre> <p>Execution order:</p> <ol> <li><code>init</code> runs once before any tests. If a step fails, the suite is marked failed, tests are skipped, and cleanup runs.</li> <li>Tests run (in parallel or sequentially, matching existing run behaviour).</li> <li><code>cleanup.always</code> runs once after every test completes. If any test or the suite init failed, <code>cleanup.on_failure</code> runs first.</li> </ol> <p>Saved values from suite init steps are injected as runtime variables on every test. Reference them directly:</p> <ul> <li><code>{{ api_token }}</code> \u2013 anywhere inside tests or cleanup steps.</li> <li><code>{{ api_token }}</code> inside suite cleanup.</li> </ul> <p>These values are read-only snapshots; cleanup can rely on them but should not expect later steps to consume data emitted in cleanup.</p>"},{"location":"yaml-reference/lifecycle-hooks/#test-lifecycle","title":"Test Lifecycle","text":"<pre><code>tests:\n  - name: \"Creates an order\"\n    init:\n      - name: \"Seed user\"\n        plugin: sql\n        config: { file: \"./sql/seed_user.sql\" }\n    steps:\n      - name: \"POST /orders\"\n        plugin: http\n        config: { url: \"{{ api_url }}/orders\" }\n        save:\n          - json_path: \".id\"\n            as: \"order_id\"\n    cleanup:\n      always:\n        - name: \"Delete order\"\n          plugin: http\n          config:\n            method: DELETE\n            url: \"{{ api_url }}/orders/{{ order_id }}\"\n      on_failure:\n        - name: \"Snapshot order payload\"\n          plugin: http\n          config:\n            method: GET\n            url: \"{{ api_url }}/orders/{{ order_id }}\"\n</code></pre> <p>For each test:</p> <ol> <li><code>init</code> runs first. Failure marks the test failed, skips the main <code>steps</code>, then moves straight into cleanup.</li> <li><code>steps</code> run with the same linear semantics as before.</li> <li><code>cleanup.always</code> runs every time. If the test failed (including its init phase), <code>cleanup.on_failure</code> runs beforehand.</li> </ol> <p>Test-level hook saves behave exactly like other runtime values: reference them as <code>{{ name }}</code> within the same test (init, steps, cleanup).</p>"},{"location":"yaml-reference/lifecycle-hooks/#referencing-saved-values","title":"Referencing Saved Values","text":"Source How to reference inside tests Where available Suite <code>init</code> saved values <code>{{ &lt;name&gt; }}</code> All test init/steps/cleanup, suite cleanup Test <code>init</code> or <code>steps</code> saved values <code>{{ &lt;name&gt; }}</code> Remaining steps and cleanups for that test Cleanup saved values <code>{{ &lt;name&gt; }}</code> Later cleanup steps in the same cleanup block <p>Additional notes:</p> <ul> <li>Saved values are injected as runtime variables, so you can use them in any templated string (URLs, headers, bodies, script vars, etc.).</li> <li>Test-level values never leak across tests. Each test gets its own state map.</li> <li>Suite cleanup runs with a disconnected Temporal context. Failures are logged but do not overwrite the original test/suite outcome.</li> </ul> <p>Use lifecycle hooks to create deterministic, self-cleaning suites that still respect Rocketship\u2019s linear execution model.</p>"},{"location":"yaml-reference/plugin-reference/","title":"Reference","text":""},{"location":"yaml-reference/plugin-reference/#test-structure","title":"Test Structure","text":"Field Required Description <code>name</code> \u2705 Name of the test suite <code>description</code> Description of the test suite <code>vars</code> Configuration variables that can be referenced in test steps using {{ vars.key }} syntax <code>openapi</code> Suite-level OpenAPI contract validation defaults applied to HTTP steps <code>init</code> Suite-level initialization steps executed before any tests run <code>tests</code> \u2705 Array of test cases <code>cleanup</code> Suite-level cleanup hooks executed after all tests complete or when initialization fails"},{"location":"yaml-reference/plugin-reference/#test-step-structure","title":"Test Step Structure","text":"Field Required Description <code>name</code> \u2705 Name of the test step <code>plugin</code> \u2705 Plugin to use for this step <code>config</code> \u2705 Configuration for the plugin <code>assertions</code> Assertions to validate the response <code>save</code> Response values to save for use in later steps <code>retry</code> Retry policy for the step activity"},{"location":"yaml-reference/plugin-reference/#supported-plugins","title":"Supported Plugins","text":"<ul> <li><code>http</code></li> <li><code>delay</code></li> <li><code>script</code></li> <li><code>sql</code></li> <li><code>log</code></li> <li><code>agent</code></li> <li><code>playwright</code></li> <li><code>browser_use</code></li> <li><code>supabase</code></li> </ul>"},{"location":"yaml-reference/plugin-reference/#plugin-configurations","title":"Plugin Configurations","text":""},{"location":"yaml-reference/plugin-reference/#plugin-http","title":"Plugin: <code>http</code>","text":"Field Required Description Type / Allowed Values Notes <code>method</code> \u2705 HTTP method to use <code>string</code> - <code>url</code> \u2705 Request URL <code>string</code> - <code>headers</code> HTTP headers to include <code>object</code> - <code>body</code> Raw request body (string). If 'form' is also provided, 'form' takes precedence. <code>string</code> - <code>form</code> Form fields to be url-encoded as application/x-www-form-urlencoded <code>object</code> - <code>openapi</code> Override OpenAPI validation behavior for this HTTP step <code>object</code> - <code>openapi.spec</code> Path or URL to an OpenAPI v3 document <code>string</code> - <code>openapi.operation_id</code> Require the request to match a specific operationId <code>string</code> - <code>openapi.version</code> Optional spec version identifier used to invalidate cached contracts <code>string</code> - <code>openapi.validate_request</code> Enable request validation for this step <code>boolean</code> - <code>openapi.validate_response</code> Enable response validation for this step <code>boolean</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-script","title":"Plugin: <code>script</code>","text":"Field Required Description Type / Allowed Values Notes <code>language</code> \u2705 Script language to use <code>javascript</code>, <code>shell</code> - <code>script</code> (oneOf) Inline script content <code>string</code> - <code>file</code> (oneOf) Path to external script file <code>string</code> - <code>timeout</code> Script execution timeout <code>string</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-sql","title":"Plugin: <code>sql</code>","text":"Field Required Description Type / Allowed Values Notes <code>driver</code> \u2705 Database driver to use <code>postgres</code>, <code>mysql</code>, <code>sqlite</code>, <code>sqlserver</code> - <code>dsn</code> \u2705 Database connection string (Data Source Name) <code>string</code> - <code>commands[]</code> (oneOf) Array of SQL commands to execute <code>array of string</code> - <code>file</code> (oneOf) Path to external SQL file <code>string</code> - <code>timeout</code> Query execution timeout <code>string</code> -"},{"location":"yaml-reference/plugin-reference/#sql-assertions","title":"<code>sql</code> Assertions","text":"Field Required Description Allowed Values <code>type</code> \u2705 Type of SQL assertion <code>row_count</code>, <code>query_count</code>, <code>success_count</code>, <code>column_value</code> <code>expected</code> \u2705 Expected value for the assertion - <code>query_index</code> (if <code>type</code> is <code>row_count</code>) (if <code>type</code> is <code>column_value</code>) Index of query to check (for row_count and column_value assertions) - <code>row_index</code> (if <code>type</code> is <code>column_value</code>) Index of row to check (for column_value assertion) - <code>column</code> (if <code>type</code> is <code>column_value</code>) Column name to check (for column_value assertion) -"},{"location":"yaml-reference/plugin-reference/#sql-save-fields","title":"<code>sql</code> Save Fields","text":"Field Required Description Notes <code>sql_result</code> \u2705 Path to extract from SQL result (e.g., '.queries[0].rows[0].id') - <code>as</code> Variable name to save the extracted value as - <code>required</code> Whether the value is required (defaults to true) -"},{"location":"yaml-reference/plugin-reference/#plugin-log","title":"Plugin: <code>log</code>","text":"Field Required Description Type / Allowed Values Notes <code>message</code> \u2705 Message to log (supports template variables) <code>string</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-agent","title":"Plugin: <code>agent</code>","text":"Field Required Description Type / Allowed Values Notes <code>prompt</code> \u2705 Task description for the agent (supports template variables) <code>string</code> - <code>mode</code> Execution mode (default: single) <code>single</code>, <code>continue</code>, <code>resume</code> - <code>session_id</code> Session ID for continue/resume modes (supports template variables) <code>string</code> - <code>max_turns</code> Maximum conversation turns (default: unlimited) <code>integer</code> - <code>timeout</code> Execution timeout (default: unlimited) <code>string</code> - <code>system_prompt</code> System prompt prepended to conversation (supports template variables) <code>string</code> - <code>cwd</code> Working directory for agent execution <code>string</code> - <code>capabilities[]</code> Agent capabilities that map to MCP servers (e.g., 'browser' for @playwright/mcp) <code>array of string</code> - <code>api_key</code> Anthropic API key (optional - auto-detected from ANTHROPIC_API_KEY env var if not provided) <code>string</code> - <code>allowed_tools</code> Tool permissions (default: ['*'] wildcard) <code>any</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-supabase","title":"Plugin: <code>supabase</code>","text":"Field Required Description Type / Allowed Values Notes <code>url</code> Supabase project URL (optional - auto-detected from SUPABASE_URL env var if not provided) <code>string</code> - <code>key</code> Supabase API key (optional - auto-detected from SUPABASE_SECRET_KEY, SUPABASE_SERVICE_KEY, SUPABASE_PUBLISHABLE_KEY, or SUPABASE_ANON_KEY env vars if not provided) <code>string</code> - <code>operation</code> \u2705 Supabase operation to perform <code>select</code>, <code>insert</code>, <code>update</code>, <code>delete</code>, <code>rpc</code>, <code>auth_create_user</code>, <code>auth_delete_user</code>, <code>auth_sign_up</code>, <code>auth_sign_in</code>, <code>storage_create_bucket</code>, <code>storage_delete_bucket</code>, <code>storage_upload</code>, <code>storage_download</code>, <code>storage_delete</code> - <code>table</code> Table name for database operations <code>string</code> - <code>select</code> Configuration for select operation <code>object</code> - <code>select.columns[]</code> Columns to select <code>array of string</code> - <code>select.filters[]</code> Filters to apply <code>array of objects</code> - <code>select.filters[].column</code> \u2705 No description <code>string</code> - <code>select.filters[].operator</code> \u2705 No description <code>eq</code>, <code>neq</code>, <code>gt</code>, <code>gte</code>, <code>lt</code>, <code>lte</code>, <code>like</code>, <code>ilike</code>, <code>is</code>, <code>in</code>, <code>contains</code>, <code>contained_by</code>, <code>range_gt</code>, <code>range_gte</code>, <code>range_lt</code>, <code>range_lte</code> - <code>select.filters[].value</code> \u2705 Filter value <code>any</code> - <code>select.order[]</code> Ordering configuration <code>array of objects</code> - <code>select.order[].column</code> \u2705 No description <code>string</code> - <code>select.order[].ascending</code> No description <code>boolean</code> - <code>select.limit</code> No description <code>integer</code> - <code>select.offset</code> No description <code>integer</code> - <code>select.count</code> Count type for query <code>exact</code>, <code>planned</code>, <code>estimated</code> - <code>insert</code> Configuration for insert operation <code>object</code> - <code>insert.data</code> \u2705 Data to insert (object or array of objects) <code>any</code> - <code>insert.upsert</code> Use upsert (insert or update) <code>boolean</code> - <code>insert.on_conflict</code> Column(s) for conflict resolution <code>string</code> - <code>update</code> Configuration for update operation <code>object</code> - <code>update.data</code> \u2705 Data to update <code>object</code> - <code>update.filters[]</code> Filters to apply for update <code>array of objects</code> - <code>update.filters[].column</code> \u2705 No description <code>string</code> - <code>update.filters[].operator</code> \u2705 No description <code>string</code> - <code>update.filters[].value</code> \u2705 Filter value <code>any</code> - <code>delete</code> Configuration for delete operation <code>object</code> - <code>delete.filters[]</code> \u2705 Filters to apply for delete <code>array of objects</code> - <code>delete.filters[].column</code> \u2705 No description <code>string</code> - <code>delete.filters[].operator</code> \u2705 No description <code>string</code> - <code>delete.filters[].value</code> \u2705 Filter value <code>any</code> - <code>rpc</code> Configuration for RPC function call <code>object</code> - <code>rpc.function</code> \u2705 Function name to call <code>string</code> - <code>rpc.params</code> Function parameters <code>object</code> - <code>auth</code> Configuration for auth operations <code>object</code> - <code>auth.email</code> No description <code>string</code> - <code>auth.password</code> No description <code>string</code> - <code>auth.user_id</code> No description <code>string</code> - <code>auth.user_metadata</code> No description <code>object</code> - <code>auth.app_metadata</code> No description <code>object</code> - <code>storage</code> Configuration for storage operations <code>object</code> - <code>storage.bucket</code> No description <code>string</code> - <code>storage.path</code> No description <code>string</code> - <code>storage.file_content</code> No description <code>string</code> - <code>storage.file_path</code> No description <code>string</code> - <code>storage.public</code> No description <code>boolean</code> - <code>storage.cache_control</code> No description <code>string</code> - <code>storage.content_type</code> No description <code>string</code> - <code>timeout</code> Operation timeout <code>string</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-delay","title":"Plugin: <code>delay</code>","text":"Field Required Description Type / Allowed Values Notes <code>duration</code> \u2705 Duration to delay (e.g., '5s', '1m', '2h') <code>string</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-playwright","title":"Plugin: <code>playwright</code>","text":"Field Required Description Type / Allowed Values Notes <code>session_id</code> Browser session identifier (optional - auto-injected by browser session management) <code>string</code> - <code>role</code> \u2705 Playwright action: 'start' launches browser, 'script' runs Python code, 'stop' closes browser <code>start</code>, <code>script</code>, <code>stop</code> - <code>headless</code> Run browser in headless mode (boolean or template string like {{ .vars.headless }}) <code>['boolean', 'string']</code> - <code>slow_mo_ms</code> Slow down operations by N milliseconds (for 'start' role) <code>integer</code> - <code>launch_args[]</code> Additional browser launch arguments (for 'start' role) <code>array of string</code> - <code>launch_timeout</code> Browser launch timeout in milliseconds (for 'start' role) <code>integer</code> - <code>window_width</code> Browser window width in pixels (for 'start' role) <code>integer</code> - <code>window_height</code> Browser window height in pixels (for 'start' role) <code>integer</code> - <code>script</code> Python script to execute (for 'script' role) <code>string</code> - <code>language</code> Script language - only 'python' is supported (for 'script' role) <code>python</code> - <code>env</code> Environment variables for script execution (for 'script' role) <code>object</code> -"},{"location":"yaml-reference/plugin-reference/#plugin-browser_use","title":"Plugin: <code>browser_use</code>","text":"Field Required Description Type / Allowed Values Notes <code>session_id</code> Browser session identifier (optional - auto-injected by browser session management) <code>string</code> - <code>task</code> \u2705 Natural language task for the AI agent to perform <code>string</code> - <code>allowed_domains[]</code> Restrict browser navigation to these domains <code>array of string</code> - <code>max_steps</code> Maximum number of agent steps <code>integer</code> - <code>use_vision</code> Enable vision capabilities for the AI agent <code>boolean</code> - <code>temperature</code> LLM temperature for agent decisions <code>number</code> - <code>timeout</code> Task execution timeout (e.g., '5m', '30s') <code>string</code> - <code>llm</code> LLM configuration for the agent <code>object</code> - <code>llm.provider</code> LLM provider (e.g., 'anthropic', 'openai') <code>string</code> - <code>llm.model</code> LLM model name <code>string</code> - <code>llm.config</code> LLM configuration (e.g., API keys as env vars) <code>object</code> -"},{"location":"yaml-reference/plugin-reference/#assertions","title":"Assertions","text":"Field Required Description Allowed Values <code>type</code> \u2705 Type of assertion <code>status_code</code>, <code>json_path</code>, <code>header</code>, <code>row_count</code>, <code>query_count</code>, <code>success_count</code>, <code>column_value</code>, <code>supabase_count</code>, <code>supabase_error</code> <code>expected</code> \u2705 Expected value for the assertion - <code>path</code> (if <code>type</code> is <code>json_path</code>) JSON path for json_path assertion type - <code>name</code> (if <code>type</code> is <code>header</code>) Header name for header assertion type - <code>query_index</code> (if <code>type</code> is <code>row_count</code>) (if <code>type</code> is <code>column_value</code>) Index of query to check (for SQL assertions) - <code>row_index</code> (if <code>type</code> is <code>column_value</code>) Index of row to check (for column_value assertion) - <code>column</code> (if <code>type</code> is <code>column_value</code>) Column name to check (for column_value assertion) -"},{"location":"yaml-reference/plugin-reference/#save-fields","title":"Save Fields","text":"Field Required Description Notes <code>json_path</code> (oneOf) JSON path to extract from response - <code>header</code> (oneOf) Header name to extract from response - <code>sql_result</code> (oneOf) Path to extract from SQL result (e.g., '.queries[0].rows[0].id') - <code>as</code> \u2705 Variable name to save the extracted value as - <code>required</code> Whether the value is required (defaults to true) -"}]}